<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ê³µì‚¬ ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨ | TBM Â· ì ê²€ Â· ìœ ë„ì‹ í˜¸</title>
  <meta name="description" content="KOSHA GUIDE C-50-2012 ê¸°ë°˜. ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ê³µì‚¬ ê¸°ê³„ìš´ì „Â·ê·¼ì ‘ì‘ì—… ì¬í•´ ì˜ˆë°©, ìœ ë„ì‹ í˜¸, ìœ„í—˜ìš”ì¸ ê²€ìƒ‰, ì²´í¬ë¦¬ìŠ¤íŠ¸ ì €ì¥, 10ì´ˆ TBM ìë™ ìƒì„±." />
  <meta name="theme-color" content="#ff8c00" />

  <!-- Pretendard -->
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

  <style>
    :root{
      --blue:#ff8c00;
      --blue2:#ffb347;
      --ink:#0b1220;
      --muted:#5a6477;
      --bg:#fff7ee;
      --card:#ffffff;
      --line:rgba(255,140,0,.18);
      --shadow:0 18px 60px rgba(255,140,0,.14);
      --radius:18px;
      --radius2:26px;
    }
    [data-theme="dark"]{
      --ink:#fff1df; --muted:#ffd9ad;
      --bg:#1a1208; --card:#2a1a0b;
      --line:rgba(255,190,120,.28);
      --shadow:0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Pretendard,system-ui,-apple-system,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 15% 0%, rgba(255,140,0,.18), transparent 55%),
        radial-gradient(900px 520px at 85% 0%, rgba(255,180,90,.18), transparent 50%),
        var(--bg);
      line-height:1.7;
    }
    a{color:inherit;text-decoration:none}
    .container{width:min(1200px, calc(100% - 40px)); margin:0 auto}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background:linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.58));
      border-bottom:1px solid var(--line);
    }
    [data-theme="dark"] .topbar{
      background:linear-gradient(180deg, rgba(42,26,11,.86), rgba(42,26,11,.66));
    }
    .topbar-inner{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px; font-weight:900; letter-spacing:-.02em}
    .logo{
      width:38px; height:38px; border-radius:12px;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      box-shadow:0 14px 40px rgba(255,140,0,.35);
      position:relative; overflow:hidden;
    }
    .logo:before{
      content:""; position:absolute; inset:-40%;
      background:conic-gradient(from 120deg, rgba(255,255,255,0), rgba(255,255,255,.6), rgba(255,255,255,0));
      animation:spin 4.5s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand small{display:block; font-size:12px; color:var(--muted); font-weight:700}

    .nav{display:flex; gap:14px; font-size:13px; font-weight:800; color:var(--muted)}
    .nav a{padding:8px 10px; border-radius:999px}
    .nav a:hover{background:rgba(255,140,0,.10); color:var(--ink)}
    .actions{display:flex; gap:10px}
    .btn{
      border:1px solid var(--line);
      background:rgba(255,255,255,.65);
      border-radius:999px;
      padding:10px 12px;
      font-weight:900; cursor:pointer;
      display:inline-flex; gap:8px; align-items:center;
    }
    [data-theme="dark"] .btn{background:rgba(42,26,11,.65); color:var(--ink)}
    .btn.primary{
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      border:none; color:#fff;
      box-shadow:0 18px 45px rgba(255,140,0,.35);
    }

    /* Hero */
    .hero{padding:42px 0 22px}
    .hero-grid{display:grid; grid-template-columns:1.15fr .85fr; gap:22px}
    @media(max-width:980px){.hero-grid{grid-template-columns:1fr}.nav{display:none}}
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75));
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:26px; box-shadow:var(--shadow);
    }
    [data-theme="dark"] .hero-card{
      background:linear-gradient(180deg, rgba(42,26,11,.9), rgba(42,26,11,.7));
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:7px 12px; border-radius:999px;
      background:rgba(255,140,0,.14); border:1px solid var(--line);
      font-weight:900; font-size:12px;
    }
    .dot{width:8px;height:8px;border-radius:99px;background:linear-gradient(135deg,var(--blue),var(--blue2))}
    h1{margin:14px 0 10px; font-size:36px; letter-spacing:-.03em}
    .lead{color:var(--muted); font-weight:700}
    .hero-kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:18px}
    .kpi{
      background:rgba(255,140,0,.12);
      border:1px solid var(--line);
      border-radius:16px; padding:12px;
    }
    .kpi b{font-size:12px; color:var(--muted)}
    .kpi strong{display:block; font-size:18px; margin-top:4px}

    /* Sections */
    section{padding:26px 0}
    .section-title{display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:14px}
    .section-title h2{margin:0; font-size:22px}
    .hint{color:var(--muted); font-weight:700; font-size:13px}

    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 12px 30px rgba(255,140,0,.14);
    }
    .card h3{margin:0 0 8px; font-size:16px; letter-spacing:-.01em}
    .card p{margin:0; color:var(--muted); font-weight:650}
    .list{padding-left:18px; color:var(--muted); font-weight:650}

    /* Toolbar / inputs */
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; justify-content:space-between; align-items:center}
    .inputs{display:flex; gap:10px; flex-wrap:wrap; width:100%}
    .input, select, textarea{
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 12px;
      font-weight:800;
      background:rgba(255,255,255,.7);
      color:var(--ink);
      outline:none;
    }
    [data-theme="dark"] .input,
    [data-theme="dark"] select,
    [data-theme="dark"] textarea{
      background:rgba(42,26,11,.7);
    }
    textarea{width:100%; font-weight:750; line-height:1.65}
    .input{flex:1; min-width:220px}
    select{min-width:180px}
    .mini-actions{display:flex; gap:10px; flex-wrap:wrap}

    /* Risk table */
    .table-wrap{overflow:auto; border:1px solid var(--line); border-radius:16px; background:var(--card)}
    table{border-collapse:separate; border-spacing:0; min-width:980px; width:100%}
    thead th{
      position:sticky; top:0;
      background:rgba(255,140,0,.18);
      padding:12px;
      font-weight:950;
      text-align:left;
    }
    tbody td{
      padding:12px;
      border-bottom:1px solid rgba(255,140,0,.18);
      color:var(--muted);
      font-weight:650;
      vertical-align:top;
    }
    .tag{
      display:inline-flex; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:rgba(255,140,0,.12);
      font-weight:950; font-size:12px; color:var(--ink);
      white-space:nowrap;
    }

    /* Steps */
    .steps{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media(max-width:980px){.steps{grid-template-columns:1fr}}
    .step{
      background:var(--card); border:1px solid var(--line);
      border-radius:var(--radius); padding:18px;
      box-shadow:0 12px 30px rgba(255,140,0,.14);
    }
    .no{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      color:#fff;font-weight:950;
      margin-bottom:10px;
    }

    /* Checklist */
    .checklist{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .progress{height:10px; background:rgba(255,140,0,.2); border-radius:999px; overflow:hidden}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--blue),var(--blue2))}
    .cl-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:14px}
    @media(max-width:980px){.cl-grid{grid-template-columns:1fr}}
    .cl-item{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px;
      border-radius:16px;
      background:rgba(255,140,0,.10);
      border:1px solid rgba(255,140,0,.16);
    }
    .cl-item input{margin-top:4px; accent-color:var(--blue)}
    .cl-item b{display:block}
    .cl-item span{display:block; color:var(--muted); font-weight:650; font-size:13px}

    /* Print */
    @media print{
      .topbar,.nav,.actions,.toolbar,.mini-actions{display:none!important}
      body{background:#fff}
      .card,.hero-card,.checklist,.step{box-shadow:none!important}
      .table-wrap{border:1px solid #ddd}
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="container">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo"></div>
          <div>
            ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ê³µì‚¬ ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨
            <small>C-50-2012 ê¸°ë°˜ Â· ê¸°ê³„ìš´ì „/ê·¼ì ‘ì‘ì—… ì¬í•´ ì˜ˆë°©</small>
          </div>
        </div>
        <nav class="nav">
          <a href="#overview">ê°œìš”</a>
          <a href="#roles">ì¤€ìˆ˜ì‚¬í•­</a>
          <a href="#signals">ìœ ë„ì‹ í˜¸</a>
          <a href="#risks">ìœ„í—˜ìš”ì¸</a>
          <a href="#checklist">ì ê²€</a>
          <a href="#tbm">TBM</a>
        </nav>
        <div class="actions">
          <button class="btn" id="themeBtn" title="ë‹¤í¬ëª¨ë“œ">ğŸŒ™</button>
          <button class="btn" onclick="window.print()" title="ì¸ì‡„/PDF">ğŸ–¨ï¸</button>
          <a class="btn primary" href="#tbm">ğŸ™ï¸ TBM</a>
        </div>
      </div>
    </div>
  </div>

  <header class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="hero-card">
          <span class="badge"><span class="dot"></span> í˜„ì¥ êµìœ¡ìš© í‘œì¤€ ì§€ì¹¨</span>
          <h1>í¬ì¥ê³µì‚¬ ì¬í•´ëŠ”<br/>â€œê·¼ì ‘ì‘ì—… + í›„ì§„â€ì—ì„œ í„°ì§„ë‹¤</h1>
          <p class="lead">
            ë³¸ ì§€ì¹¨ì€ <b>ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ì‘ì—… ì¤‘ ê¸°ê³„ìš´ì „ê³¼ ê·¼ì ‘ì‘ì—…</b> ì‹œ ë°œìƒë˜ëŠ” ì¬í•´ ì˜ˆë°©ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.
          </p>

          <div class="hero-kpis">
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>ì°¨ëŸ‰Â·ì¥ë¹„ ì¶©ëŒ</strong></div>
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>í˜‘ì°©Â·ë¼ì„</strong></div>
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>ê³ ì˜¨ í™”ìƒ</strong></div>
          </div>
        </div>

        <div class="hero-card">
          <h3 style="margin-top:0;">ğŸ¯ ì¦‰ì‹œ í†µì œ í¬ì¸íŠ¸</h3>
          <ul class="list">
            <li><b>í›„ì§„ ì‘ì—…</b> ì‹œ ìœ ë„ì ë°°ì¹˜Â·í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘í–‰</li>
            <li><b>ì‘ì—…ë°˜ê²½</b> ë‚´ ì¶œì… í†µì œ(ê·¼ì ‘ì‘ì—…ì€ ê°ë…ì ì§€ì‹œ)</li>
            <li><b>ì•¼ê°„</b> ë°˜ì‚¬ì¡°ë¼ + ì „ìì‹ í˜¸ë´‰/ê¹ƒë°œ</li>
            <li><b>ì „ì••</b> ì‹œ ë¡¤ëŸ¬â€“í”¼ë‹ˆì…” ìµœì†Œ 1m, ë§ˆë¬´ë¦¬ê³µ 2~3m ìœ ì§€</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- ê°œìš” -->
    <section id="overview">
      <div class="container">
        <div class="section-title">
          <h2>ê°œìš”</h2>
          <div class="hint">ëª©ì  Â· ì ìš©ë²”ìœ„ Â· ìš©ì–´</div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>ëª©ì </h3>
            <p>ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ì‘ì—… ì¤‘ <b>ê¸°ê³„ìš´ì „Â·ê·¼ì ‘ì‘ì—…</b>ì—ì„œ ë°œìƒë˜ëŠ” ì¬í•´ë¥¼ ì˜ˆë°©í•˜ê¸° ìœ„í•œ ì•ˆì „ë³´ê±´ì§€ì¹¨ì„ ì •í•¨.</p>
          </div>
          <div class="card">
            <h3>ì ìš©ë²”ìœ„</h3>
            <p>ë³¸ ì§€ì¹¨ì€ <b>ì•„ìŠ¤íŒ”íŠ¸ì½˜í¬ë¦¬íŠ¸ í¬ì¥ê³µì‚¬</b>ì— ì ìš©.</p>
          </div>
          <div class="card">
            <h3>ìš©ì–´ì˜ ì •ì˜</h3>
            <p>ì‚°ì—…ì•ˆì „ë³´ê±´ë²•/ì‹œí–‰ë ¹/ì‹œí–‰ê·œì¹™ ë° ì•ˆì „ë³´ê±´ê·œì¹™ ë“± ê´€ë ¨ ê·œì •ì—ì„œ ì •í•˜ëŠ” ë°”ì— ë”°ë¦„.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ì¤€ìˆ˜ì‚¬í•­ -->
    <section id="roles">
      <div class="container">
        <div class="section-title">
          <h2>ê¸°ê³„ìš´ì „ê³¼ ê·¼ì ‘ì‘ì—… ì¤€ìˆ˜ì‚¬í•­</h2>
          <div class="hint">ê¸°ê³„ìš´ì „ì Â· ê·¼ì ‘ì‘ì—… ê·¼ë¡œì Â· ê´€ë¦¬ê°ë…ì</div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>ê¸°ê³„ìš´ì „ìì˜ ì¤€ìˆ˜ì‚¬í•­</h3>
            <ul class="list">
              <li>ì‘ì—… ì „ ê¸°ê³„ë¥¼ ì •ë¹„í•˜ê³  ìš´ì „ ì‹œ ì•ˆì „ìˆ˜ì¹™ ì¤€ìˆ˜</li>
              <li>í›„ì§„ ì‹œ ê²½ê³ ìŒ/ê²½ê´‘ë“± ì‘ë™ ì¡°ì¹˜</li>
              <li>í˜„ì¥Â·í†µí–‰ì°¨ëŸ‰Â·ë¶€ê·¼ì‘ì—… í˜„í™© ë° ìœ„í—˜ê°œì†Œ/ìœ„ê¸‰ì‚¬í•­ ì‚¬ì „ íŒŒì•…</li>
              <li>ì§„í–‰ë°©í–¥ 5m, ì¢Œìš° 2m ì´ë‚´ ê·¼ë¡œì ì¡´ì¬ ì‹œ ê²½ì  ë“± ì¡°ì¹˜</li>
              <li>ê¸‰ì „Â·ê¸‰í›„ì§„Â·ê¸‰ì„ íšŒ ê¸ˆì§€</li>
              <li>ì£¼ì°¨ ì‹œ ê²½ì‚¬ì§€Â·ë¶•ê´´ ìš°ë ¤ ì§€ë°˜ íšŒí”¼, ì œë™ í™•ì¸ í›„ ë°›ì¹¨ëª© ì„¤ì¹˜</li>
              <li>ì•¼ê°„ ë„ë¡œ ì£¼ì°¨ ì§€ì–‘(ë¶ˆê°€í”¼ ì‹œ íœ€ìŠ¤/ì°¨ëŸ‰ìœ ë„ë“± í‘œì‹œ)</li>
            </ul>
          </div>

          <div class="card">
            <h3>ê·¼ì ‘ì‘ì—… ê·¼ë¡œìì˜ ì¤€ìˆ˜ì‚¬í•­</h3>
            <ul class="list">
              <li>ì£¼í–‰ì‘ì—… ì¤‘ ê¸°ê³„ ì‘ì—…ë²”ìœ„ ë‚´ ì¶œì… ê¸ˆì§€</li>
              <li>ë¶€ë“ì´í•œ ê·¼ì ‘ì‘ì—…ì€ ê´€ë¦¬ê°ë…ìì—ê²Œ ë³´ê³  í›„ ì‘ì—…ë°©ë²• ì§€ì‹œ</li>
              <li>ê´€ë¦¬ê°ë…ì ë˜ëŠ” ìœ ë„ì ì‹ í˜¸ ì¤€ìˆ˜</li>
              <li>ì•„ìŠ¤íŒ”íŠ¸ ì½˜í¬ë¦¬íŠ¸ ê³ ì—´ë¡œ ì¸í•œ í™”ìƒ ì£¼ì˜</li>
            </ul>
          </div>

          <div class="card">
            <h3>ê´€ë¦¬ê°ë…ìì˜ ì¤€ìˆ˜ì‚¬í•­</h3>
            <ul class="list">
              <li>ê¸°ê³„ ì£¼í–‰ì‘ì—… ì¤‘ ì‘ì—…ë²”ìœ„ ë‚´ ê·¼ë¡œì ì¶œì… í†µì œ</li>
              <li>ê·¼ì ‘ì‘ì—… í•„ìš” ì‹œ ì£¼ì˜ì‚¬í•­/ì‘ì—…ë°©ë²• ì‚¬ì „ ì£¼ì§€</li>
              <li>ìœ ë„ì ë°°ì¹˜ í›„ í˜¸ê°/ìˆ˜ì‹ í˜¸ ë“± ì •í•´ì§„ ì‹ í˜¸ë°©ë²•ìœ¼ë¡œ ëŒ€í”¼Â·í›„ì§„ì‘ì—… ìˆ˜í–‰</li>
              <li>ì£¼í–‰ë¡œ ì •ë¦¬ì •ëˆ(ìš´ì „Â·ì£¼í–‰ ì§€ì¥ ì œê±°)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ìœ ë„ì‹ í˜¸ -->
    <section id="signals">
      <div class="container">
        <div class="section-title">
          <h2>ê±´ì„¤ê¸°ê³„ ìœ ë„ì‹ í˜¸</h2>
          <div class="hint">ìœ ë„ì ë°°ì¹˜ Â· ì£¼ì˜ì‚¬í•­ Â· ì‹ í˜¸ë°©ë²• Â· ê·¼ì ‘ì‘ì—…</div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>ìœ ë„ì ë°°ì¹˜(ìš”ì§€)</h3>
            <ul class="list">
              <li><b>ì•„ìŠ¤íŒ”íŠ¸í”¼ë‹ˆì…”</b>: ë¤í”„íŠ¸ëŸ­ì´ í›„ì§„í•˜ì—¬ í˜¸í¼ì— í˜¼í•©ì¬ íˆ¬ì…/ê³µê¸‰ ì‹œ</li>
              <li><b>íƒ€ì´ì–´/ë¨¸ìºë¤/íƒ ë¤ ë¡¤ëŸ¬</b>: ì „ì•• ì‘ì—… ì¤‘ ë¶€ê·¼ì— ê·¼ë¡œì ì¡´ì¬ ì‹œ</li>
              <li><b>ë””ìŠ¤íŠ¸ë¦¬ë·°í„°</b>: ì‚´í¬ ì‘ì—… ì¤‘ ë¶€ê·¼ì— ê·¼ë¡œì ì¡´ì¬ ì‹œ</li>
              <li><b>ë¤í”„íŠ¸ëŸ­</b>: í›„ì§„í•˜ëŠ” ê²½ìš°</li>
            </ul>
          </div>

          <div class="card">
            <h3>ìœ ë„ì ì£¼ì˜ì‚¬í•­</h3>
            <ul class="list">
              <li>ì •í•´ì§„ ì‹ í˜¸ë°©ë²•ì— ì˜í•´ ê¸°ê³„Â·ì°¨ëŸ‰ ìœ ë„</li>
              <li>ì£¼í–‰ì†ë„ íŒŒì•… + ìš´í–‰ê²½ë¡œ í™•ì¸</li>
            </ul>
          </div>

          <div class="card">
            <h3>ìœ ë„ ì‹ í˜¸ë°©ë²•(í•µì‹¬)</h3>
            <ul class="list">
              <li>ìœ ë„ì‹ í˜¸ëŠ” <b>í˜¸ê° + ìˆ˜ì‹ í˜¸ ë³‘ìš©</b></li>
              <li>ì•¼ê°„: <b>ë°˜ì‚¬ì¡°ë¼</b> ì°©ìš© + <b>ì „ìì‹ í˜¸ë´‰/ê¹ƒë°œ</b> ì‚¬ìš©</li>
              <li>ìœ„ì¹˜: ìš´ì „ìì™€ ì—°ë½ ì‹ í˜¸ê°€ ì˜ ë˜ê³ , ì ‘ê·¼ì ì‹ë³„ ê°€ëŠ¥í•˜ë©°, ì§„í–‰ì„ ì—ì„œ ë–¨ì–´ì§„ ê³³</li>
            </ul>
          </div>
        </div>

        <div class="card" style="margin-top:14px;">
          <h3>ê·¼ì ‘ì‘ì—… ìœ ë„ì‹ í˜¸(í¬ì„¤/ì „ì••)</h3>
          <div class="grid" style="grid-template-columns:repeat(2,1fr);">
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">ì•„ìŠ¤íŒ”íŠ¸í”¼ë‹ˆì…” í¬ì„¤(ë¤í”„ í›„ì§„ ê³µê¸‰)</h3>
              <ul class="list">
                <li>ìœ ë„ìëŠ” <b>ë¤í”„ ìš´ì „ìì™€ ê°™ì€ ë°©í–¥</b>ì—ì„œ, í˜¸í¼ ë¶€ê·¼ ë˜ëŠ” ì „ë°© <b>5~10m</b> ì‚¬ì´ ì•ˆì „í•œ ìœ„ì¹˜ì—ì„œ ì‹ í˜¸</li>
                <li>í”¼ë‹ˆì…” ìš´ì „ìÂ·ìœ ë„ìëŠ” ë¤í”„ í›„ì§„ ê³µê¸‰ ìƒíƒœë¥¼ ìˆ˜ì‹œ í™•ì¸</li>
                <li>ìœ ë„ìëŠ” ë¤í”„ ìš´ì „ìê°€ ì˜ ë³´ì´ëŠ” ìœ„ì¹˜ì—ì„œ ì‹ í˜¸</li>
                <li>ì‹ í˜¸ëŠ” <b>í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘ìš©</b></li>
              </ul>
            </div>
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">í¬ì„¤ í›„ ë¡¤ëŸ¬ ì „ì••(í”¼ë‹ˆì…” ë’¤ ë°”ë¡œ ì „ì••)</h3>
              <ul class="list">
                <li>ë¡¤ëŸ¬â€“í”¼ë‹ˆì…” ê·¼ì ‘ê±°ë¦¬ <b>ìµœì†Œ 1m ì´ìƒ</b></li>
                <li>ë§ˆë¬´ë¦¬ê³µì€ ë¡¤ëŸ¬ì™€ <b>2~3m ì´ìƒ</b> ê±°ë¦¬ ìœ ì§€</li>
                <li>ì‹ í˜¸ëŠ” <b>í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘ìš©</b></li>
                <li>ë™ì ˆê¸°: ë¡¤ëŸ¬ ì‚´ìˆ˜ ë¬¼ì˜ ìˆ˜ì¦ê¸°ë¡œ <b>ì‹œì•¼ ì°¨ë‹¨</b> ê°€ëŠ¥ â†’ ìš´ì „ì ì£¼ì˜</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ìœ„í—˜ìš”ì¸ -->
    <section id="risks">
      <div class="container">
        <div class="section-title">
          <h2>ì¤‘ì  ìœ„í—˜ìš”ì¸</h2>
          <div class="hint">ê²€ìƒ‰ Â· í•„í„°</div>
        </div>

        <div class="toolbar">
          <div class="inputs">
            <input class="input" id="q" placeholder="ê²€ìƒ‰ (ì˜ˆ: í›„ì§„, í˜¸í¼, ì „ì••, ì•¼ê°„, í™”ìƒ, ìœ ë„ì)">
            <select id="fProc">
              <option value="">ê³µì • ì „ì²´</option>
              <option value="ìš´ë°˜">ìš´ë°˜</option>
              <option value="í¬ì„¤">í¬ì„¤</option>
              <option value="ì „ì••">ì „ì••</option>
              <option value="ì‚´í¬">ì‚´í¬</option>
              <option value="êµí†µ">êµí†µí˜¼ì¬</option>
            </select>
            <select id="fEquip">
              <option value="">ì¥ë¹„ ì „ì²´</option>
              <option value="ë¤í”„íŠ¸ëŸ­">ë¤í”„íŠ¸ëŸ­</option>
              <option value="í”¼ë‹ˆì…”">ì•„ìŠ¤íŒ”íŠ¸í”¼ë‹ˆì…”</option>
              <option value="íƒ€ì´ì–´ë¡¤ëŸ¬">íƒ€ì´ì–´ë¡¤ëŸ¬</option>
              <option value="ë¨¸ìºë¤ë¡¤ëŸ¬">ë¨¸ìºë¤ë¡¤ëŸ¬</option>
              <option value="íƒ ë¤ë¡¤ëŸ¬">íƒ ë¤ë¡¤ëŸ¬</option>
              <option value="ë””ìŠ¤íŠ¸ë¦¬ë·°í„°">ë””ìŠ¤íŠ¸ë¦¬ë·°í„°</option>
            </select>
            <select id="fType">
              <option value="">ì¬í•´ìœ í˜• ì „ì²´</option>
              <option value="ì¶©ëŒ">ì¶©ëŒ</option>
              <option value="í˜‘ì°©">í˜‘ì°©/ë¼ì„</option>
              <option value="í™”ìƒ">í™”ìƒ</option>
              <option value="ì „ë„">ì „ë„/ì¶”ë½</option>
            </select>
          </div>
          <div class="mini-actions">
            <button class="btn" id="resetRisk">ì´ˆê¸°í™”</button>
          </div>
        </div>

        <div class="table-wrap" style="margin-top:12px;">
          <table id="riskTable">
            <thead>
              <tr>
                <th style="width:110px;">ì¬í•´ìœ í˜•</th>
                <th style="width:90px;">ê³µì •</th>
                <th style="width:170px;">ì¥ë¹„</th>
                <th>ìœ„í—˜ìš”ì¸</th>
                <th>í•µì‹¬ ëŒ€ì±…(ì§€ì¹¨ ê¸°ë°˜)</th>
              </tr>
            </thead>
            <tbody>
              <tr data-proc="ìš´ë°˜" data-equip="ë¤í”„íŠ¸ëŸ­" data-type="ì¶©ëŒ">
                <td><span class="tag">ì¶©ëŒ</span></td>
                <td>ìš´ë°˜</td>
                <td>ë¤í”„íŠ¸ëŸ­</td>
                <td>í›„ì§„ ì¤‘ ê·¼ë¡œì/ì¥ë¹„ì™€ ì ‘ì´‰</td>
                <td>ìœ ë„ì ë°°ì¹˜, í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘ìš©, ìš´ì „ì ì‹œì•¼ í™•ë³´, ê²½ê³ ìŒ/ê²½ê´‘ë“±</td>
              </tr>
              <tr data-proc="í¬ì„¤" data-equip="í”¼ë‹ˆì…”" data-type="í˜‘ì°©">
                <td><span class="tag">í˜‘ì°©/ë¼ì„</span></td>
                <td>í¬ì„¤</td>
                <td>ì•„ìŠ¤íŒ”íŠ¸í”¼ë‹ˆì…”</td>
                <td>í˜¸í¼ ë¶€ê·¼ ì ‘ê·¼, ë¤í”„ ê³µê¸‰ ì¤‘ í˜‘ì°©</td>
                <td>ìœ ë„ì ìœ„ì¹˜(í˜¸í¼ ë¶€ê·¼/ì „ë°© 5~10m), ë¤í”„ í›„ì§„ ê³µê¸‰ ìƒíƒœ ìˆ˜ì‹œ í™•ì¸</td>
              </tr>
              <tr data-proc="ì „ì••" data-equip="ë¨¸ìºë¤ë¡¤ëŸ¬" data-type="ì¶©ëŒ">
                <td><span class="tag">ì¶©ëŒ</span></td>
                <td>ì „ì••</td>
                <td>ë¨¸ìºë¤/íƒ ë¤/íƒ€ì´ì–´ ë¡¤ëŸ¬</td>
                <td>í”¼ë‹ˆì…” ë’¤ ì „ì•• ì¤‘ ê·¼ë¡œì ê·¼ì ‘</td>
                <td>ë¡¤ëŸ¬â€“í”¼ë‹ˆì…” â‰¥ 1m, ë§ˆë¬´ë¦¬ê³µâ€“ë¡¤ëŸ¬ 2~3m, ì‹ í˜¸ ë³‘ìš©, ì‘ì—…ë°˜ê²½ í†µì œ</td>
              </tr>
              <tr data-proc="ì „ì••" data-equip="íƒ€ì´ì–´ë¡¤ëŸ¬" data-type="ì¶©ëŒ">
                <td><span class="tag">ì¶©ëŒ</span></td>
                <td>ì „ì••</td>
                <td>íƒ€ì´ì–´ë¡¤ëŸ¬</td>
                <td>ë™ì ˆê¸° ì‚´ìˆ˜ ìˆ˜ì¦ê¸°ë¡œ ì‹œì•¼ ì°¨ë‹¨ â†’ ì ‘ì´‰ ìœ„í—˜</td>
                <td>ìš´ì „ì ì£¼ì˜(ìˆ˜ì¦ê¸°), ê·¼ë¡œì ì ‘ê·¼ í†µì œ, ì‹ í˜¸ ìœ ì§€</td>
              </tr>
              <tr data-proc="ì‚´í¬" data-equip="ë””ìŠ¤íŠ¸ë¦¬ë·°í„°" data-type="í™”ìƒ">
                <td><span class="tag">í™”ìƒ</span></td>
                <td>ì‚´í¬</td>
                <td>ë””ìŠ¤íŠ¸ë¦¬ë·°í„°</td>
                <td>ê³ ì˜¨ ì¬ë£Œ ì·¨ê¸‰Â·ë¹„ì‚°ìœ¼ë¡œ í™”ìƒ</td>
                <td>ê·¼ë¡œì ê·¼ì ‘ í†µì œ, ë³´í˜¸êµ¬ ì°©ìš©, ìœ ë„ì ë°°ì¹˜(ë¶€ê·¼ ê·¼ë¡œì ì¡´ì¬ ì‹œ)</td>
              </tr>
              <tr data-proc="êµí†µ" data-equip="ë¤í”„íŠ¸ëŸ­" data-type="ì¶©ëŒ">
                <td><span class="tag">ì¶©ëŒ</span></td>
                <td>êµí†µí˜¼ì¬</td>
                <td>ì‘ì—…ì°¨ëŸ‰ ì „ì²´</td>
                <td>ê°œë°© êµí†µê³¼ ì‘ì—…ì°¨ëŸ‰ í˜¼ì¬ë¡œ ì¶©ëŒ</td>
                <td>ì£¼í–‰ë¡œ ì •ë¦¬ì •ëˆ, í†µì œêµ¬ê°„ ì„¤ì •, ìœ ë„ì/ì‹ í˜¸ìˆ˜ ë°°ì¹˜</td>
              </tr>
              <tr data-proc="ì „ì••" data-equip="ë¨¸ìºë¤ë¡¤ëŸ¬" data-type="ì „ë„">
                <td><span class="tag">ì „ë„/ì¶”ë½</span></td>
                <td>ì „ì••</td>
                <td>ë¡¤ëŸ¬ë¥˜</td>
                <td>ê²½ì‚¬ì§€/ì—°ì•½ì§€ë°˜ ì£¼ì°¨Â·ì‘ì—… ì¤‘ ì „ë„</td>
                <td>ì£¼ì°¨ ì‹œ ê²½ì‚¬ì§€Â·ë¶•ê´´ ìš°ë ¤ ì§€ë°˜ íšŒí”¼, ì œë™ í™•ì¸ í›„ ë°›ì¹¨ëª©</td>
              </tr>
              <tr data-proc="ìš´ë°˜" data-equip="ë¤í”„íŠ¸ëŸ­" data-type="ì¶©ëŒ">
                <td><span class="tag">ì¶©ëŒ</span></td>
                <td>ìš´ë°˜</td>
                <td>ë¤í”„íŠ¸ëŸ­</td>
                <td>ìš´ì „ì ì£¼ë³€ 5m/ì¢Œìš° 2m ë‚´ ê·¼ë¡œì ì¡´ì¬ ì‹œ ìœ„í—˜</td>
                <td>í•´ë‹¹ ë²”ìœ„ ê·¼ë¡œì í™•ì¸ ì‹œ ê²½ì  ë“± ì¡°ì¹˜, ê¸‰ì¡°ì‘ ê¸ˆì§€</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- SOP -->
    <section id="procedure">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—… ì ˆì°¨(SOP)</h2>
          <div class="hint">ì „ Â· ì¤‘ Â· í›„ í•µì‹¬ í†µì œ</div>
        </div>

        <div class="steps">
          <div class="step">
            <div class="no">1</div>
            <h3>ì‘ì—… ì „</h3>
            <ul class="list">
              <li>ì¥ë¹„ ì ê²€ ë° ì•ˆì „ì¥ì¹˜(ê²½ê³ ìŒ/ê²½ê´‘ë“±) í™•ì¸</li>
              <li>ì£¼í–‰ë¡œ ì •ë¦¬ì •ëˆ(ì¥ë¹„ ìš´ì „Â·ì£¼í–‰ ì§€ì¥ ì œê±°)</li>
              <li>ê·¼ì ‘ì‘ì—… ê³„íš ìˆ˜ë¦½(ìœ ë„ì ë°°ì¹˜/ì‹ í˜¸ë°©ë²• í™•ì •)</li>
              <li>TBM ì‹¤ì‹œ(ì˜¤ëŠ˜ ê³µì •/ì¥ë¹„/íŠ¹ì´ì¡°ê±´ ê³µìœ )</li>
            </ul>
          </div>
          <div class="step">
            <div class="no">2</div>
            <h3>ì‘ì—… ì¤‘</h3>
            <ul class="list">
              <li>ìœ ë„ì‹ í˜¸ëŠ” <b>í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘ìš©</b></li>
              <li>ê·¼ë¡œì ì¶œì… í†µì œ(ê·¼ì ‘ì‘ì—…ì€ ê°ë…ì ì§€ì‹œ í›„ ì‹¤ì‹œ)</li>
              <li>í›„ì§„Â·ì „ì•• ë“± ìœ„í—˜ ìˆœê°„ì€ ìœ ë„ì ì¤‘ì‹¬ìœ¼ë¡œ í†µì œ</li>
              <li>ë™ì ˆê¸° ìˆ˜ì¦ê¸°/ì•¼ê°„ ì‹œì¸ì„± ì €í•˜ ì‹œ ì¦‰ì‹œ ì†ë„Â·ë™ì„  ì¬ì¡°ì •</li>
            </ul>
          </div>
          <div class="step">
            <div class="no">3</div>
            <h3>ì‘ì—… ì¢…ë£Œ</h3>
            <ul class="list">
              <li>ì¥ë¹„ ì£¼ì°¨: ê²½ì‚¬ì§€/ë¶•ê´´ ìš°ë ¤ ì§€ë°˜ íšŒí”¼</li>
              <li>ì œë™ í™•ì¸ í›„ ë°›ì¹¨ëª© ì„¤ì¹˜, ì•¼ê°„ ì£¼ì°¨ í‘œì§€(íœ€ìŠ¤/ìœ ë„ë“±)</li>
              <li>í˜„ì¥ ì •ë¦¬ì •ëˆ ë° ë‹¤ìŒ ì‘ì—… ì „ ìœ„í—˜ìš”ì¸ ê³µìœ </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
    <section id="checklist">
      <div class="container">
        <div class="section-title">
          <h2>ì¼ì¼ ì•ˆì „ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
          <div class="hint">ì €ì¥ Â· ì§„í–‰ë¥  Â· ë³µì‚¬</div>
        </div>

        <div class="checklist">
          <div class="toolbar" style="margin-bottom:10px;">
            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <div class="hint" id="progressText">0 / 0 ì™„ë£Œ</div>
            </div>
            <div class="mini-actions">
              <button class="btn" id="clearChecklist">ì´ˆê¸°í™”</button>
              <button class="btn primary" id="copyChecklist">ì ê²€ê²°ê³¼ ë³µì‚¬</button>
            </div>
          </div>

          <div class="progress"><div class="bar" id="bar"></div></div>

          <div class="cl-grid" id="clGrid">
            <!-- JSë¡œ ì±„ì›€ -->
          </div>
        </div>
      </div>
    </section>

    <!-- TBM -->
    <section id="tbm">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—… ì „ ì•ˆì „êµìœ¡(TBM) 10ì´ˆ</h2>
          <div class="hint">í˜¼í•© ê¸°ì¤€: ê³µì • + ì¥ë¹„ + íŠ¹ì´ì¡°ê±´</div>
        </div>

        <div class="card">
          <div class="toolbar">
            <div class="inputs">
              <input class="input" id="tbmSite" placeholder="í˜„ì¥ëª… (ì˜ˆ: â—‹â—‹í˜„ì¥)">
              <select id="tbmProc">
                <option value="ìš´ë°˜">ê³µì •: ìš´ë°˜(ë¤í”„)</option>
                <option value="í¬ì„¤">ê³µì •: í¬ì„¤(í”¼ë‹ˆì…”)</option>
                <option value="ì „ì••">ê³µì •: ì „ì••(ë¡¤ëŸ¬)</option>
                <option value="ì‚´í¬">ê³µì •: ì‚´í¬(ë””ìŠ¤íŠ¸ë¦¬ë·°í„°)</option>
                <option value="êµí†µ">ê³µì •: êµí†µí˜¼ì¬</option>
              </select>
              <select id="tbmEquip">
                <option value="ë¤í”„íŠ¸ëŸ­">ì¥ë¹„: ë¤í”„íŠ¸ëŸ­</option>
                <option value="í”¼ë‹ˆì…”">ì¥ë¹„: ì•„ìŠ¤íŒ”íŠ¸í”¼ë‹ˆì…”</option>
                <option value="íƒ€ì´ì–´ë¡¤ëŸ¬">ì¥ë¹„: íƒ€ì´ì–´ë¡¤ëŸ¬</option>
                <option value="ë¨¸ìºë¤ë¡¤ëŸ¬">ì¥ë¹„: ë¨¸ìºë¤ë¡¤ëŸ¬</option>
                <option value="íƒ ë¤ë¡¤ëŸ¬">ì¥ë¹„: íƒ ë¤ë¡¤ëŸ¬</option>
                <option value="ë””ìŠ¤íŠ¸ë¦¬ë·°í„°">ì¥ë¹„: ë””ìŠ¤íŠ¸ë¦¬ë·°í„°</option>
              </select>
              <select id="tbmCond">
                <option value="">íŠ¹ì´ì¡°ê±´: ì—†ìŒ</option>
                <option value="ì•¼ê°„">íŠ¹ì´ì¡°ê±´: ì•¼ê°„ì‘ì—…</option>
                <option value="ë™ì ˆê¸°">íŠ¹ì´ì¡°ê±´: ë™ì ˆê¸°(ìˆ˜ì¦ê¸°/ì‹œì•¼)</option>
                <option value="ê°œë°©êµí†µ">íŠ¹ì´ì¡°ê±´: ê°œë°©êµí†µ í˜¼ì¬</option>
                <option value="ê·¼ì ‘ì‘ì—…">íŠ¹ì´ì¡°ê±´: ê·¼ì ‘ì‘ì—…(ë§ˆë¬´ë¦¬/ë³´ì¡°)</option>
              </select>
            </div>
            <div class="mini-actions">
              <button class="btn primary" id="genTBM">TBM ìƒì„±</button>
              <button class="btn" id="copyTBM">TBM ë³µì‚¬</button>
            </div>
          </div>

          <textarea id="tbmOut" rows="7" placeholder="TBM ë¬¸êµ¬ê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤."></textarea>
        </div>
      </div>
    </section>

    <section>
      <div class="container">
        <div class="card">
          <h3>í˜„ì¥ ì ìš© íŒ</h3>
          <ul class="list">
            <li>TBM ìƒì„± í›„ â€œì˜¤ëŠ˜ í†µì œ í¬ì¸íŠ¸ 1ê°œâ€ë¥¼ ì‘ì—…ë°˜ì´ í•¨ê»˜ í•©ì˜(ì˜ˆ: í›„ì§„ ì‹œ ìœ ë„ì ê³ ì • ë°°ì¹˜)</li>
            <li>ê·¼ì ‘ì‘ì—…ì€ â€œí•„ìš” ì‹œì—ë§Œâ€ ê°ë…ì ì§€ì‹œë¡œ ì‹¤ì‹œí•˜ê³ , ì‹ í˜¸ë°©ë²•(í˜¸ê°+ìˆ˜ì‹ í˜¸)ì„ ë¨¼ì € í™•ì •</li>
            <li>ì „ì•• êµ¬ê°„ì—ì„œ ë§ˆë¬´ë¦¬ê³µì´ ë“¤ì–´ê°€ëŠ” ìˆœê°„ì´ ìµœê³  ìœ„í—˜êµ¬ê°„(ê±°ë¦¬ ê¸°ì¤€ì„ ìˆ˜ì¹˜ë¡œ ë§í•´ì£¼ê¸°)</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <script>
    /* ================= Theme ================= */
    const root = document.documentElement;
    const THEME_KEY = "asp_pave_theme_v4";
    const savedTheme = localStorage.getItem(THEME_KEY);
    if(savedTheme === "dark") root.setAttribute("data-theme","dark");
    document.getElementById("themeBtn").addEventListener("click", ()=>{
      const isDark = root.getAttribute("data-theme")==="dark";
      if(isDark){ root.removeAttribute("data-theme"); localStorage.setItem(THEME_KEY,"light"); }
      else { root.setAttribute("data-theme","dark"); localStorage.setItem(THEME_KEY,"dark"); }
    });

    /* ================= Risk filtering ================= */
    const qEl = document.getElementById("q");
    const fProc = document.getElementById("fProc");
    const fEquip = document.getElementById("fEquip");
    const fType = document.getElementById("fType");
    const rows = Array.from(document.querySelectorAll("#riskTable tbody tr"));

    function applyRiskFilter(){
      const q = (qEl.value || "").trim();
      const proc = fProc.value;
      const equip = fEquip.value;
      const type = fType.value;

      rows.forEach(tr=>{
        const okQ = !q || tr.innerText.includes(q);
        const okP = !proc || tr.dataset.proc === proc;
        const okE = !equip || tr.dataset.equip === equip || tr.innerText.includes(equip);
        const okT = !type || tr.dataset.type === type || tr.innerText.includes(type);
        tr.style.display = (okQ && okP && okE && okT) ? "" : "none";
      });
    }

    [qEl,fProc,fEquip,fType].forEach(el=>el.addEventListener("input", applyRiskFilter));
    document.getElementById("resetRisk").addEventListener("click", ()=>{
      qEl.value=""; fProc.value=""; fEquip.value=""; fType.value="";
      applyRiskFilter();
    });

    /* ================= Checklist (localStorage) ================= */
    const CL_KEY = "asp_pave_check_v4";
    const checklistItems = [
      { t:"ê²½ê³ ìŒ/ê²½ê´‘ë“±", d:"í›„ì§„ ê²½ê³ ìŒÂ·ê²½ê´‘ë“± ì‘ë™ ìƒíƒœ í™•ì¸(ë¶ˆëŸ‰ ì‹œ ì‘ì—… ê¸ˆì§€)" },
      { t:"ì£¼í–‰ë¡œ ì •ë¦¬ì •ëˆ", d:"ì¥ë¹„ ìš´ì „Â·ì£¼í–‰ ì§€ì¥ë¬¼ ì œê±°, ë™ì„  ë‹¨ìˆœí™”" },
      { t:"ìœ ë„ì ë°°ì¹˜", d:"ë¤í”„ í›„ì§„/í”¼ë‹ˆì…” ê³µê¸‰/ë¡¤ëŸ¬ ì „ì•• ë“± ìœ„í—˜ ìˆœê°„ ìœ ë„ì ë°°ì¹˜" },
      { t:"ì‹ í˜¸ ë°©ë²• í™•ì •", d:"í˜¸ê° + ìˆ˜ì‹ í˜¸ ë³‘ìš©(ì•¼ê°„: ì „ìì‹ í˜¸ë´‰/ê¹ƒë°œ)" },
      { t:"ìœ ë„ì ìœ„ì¹˜", d:"ìš´ì „ìì™€ ì—°ë½ ì‹ í˜¸ ìš©ì´, ì ‘ê·¼ì ì‹ë³„ ê°€ëŠ¥, ì§„í–‰ì„ ì—ì„œ ì´ê²©" },
      { t:"ê·¼ì ‘ì‘ì—… í†µì œ", d:"ì‘ì—…ë°˜ê²½ ë‚´ ì¶œì… ê¸ˆì§€(ê·¼ì ‘ í•„ìš” ì‹œ ê°ë…ì ì§€ì‹œ í›„)" },
      { t:"ê±°ë¦¬ ê¸°ì¤€(ì „ì••)", d:"ë¡¤ëŸ¬â€“í”¼ë‹ˆì…” â‰¥ 1m / ë§ˆë¬´ë¦¬ê³µâ€“ë¡¤ëŸ¬ 2~3m ìœ ì§€" },
      { t:"ë™ì ˆê¸° ìˆ˜ì¦ê¸°", d:"ì‚´ìˆ˜ ìˆ˜ì¦ê¸°ë¡œ ì‹œì•¼ ì°¨ë‹¨ ê°€ëŠ¥ â†’ ì†ë„Â·ë™ì„  ì¡°ì •" },
      { t:"ì•¼ê°„ ì‹œì¸ì„±", d:"ë°˜ì‚¬ì¡°ë¼ ì°©ìš©, ì¡°ëª…Â·ìœ ë„ë“± ì„¤ì¹˜, ìœ„í—˜êµ¬ê°„ ì†ë„ ì œí•œ" },
      { t:"ì£¼ì°¨/ë°›ì¹¨ëª©", d:"ê²½ì‚¬ì§€Â·ë¶•ê´´ ìš°ë ¤ ì§€ë°˜ íšŒí”¼, ì œë™ í™•ì¸ í›„ ë°›ì¹¨ëª© ì„¤ì¹˜" },
    ];

    const clGrid = document.getElementById("clGrid");
    const bar = document.getElementById("bar");
    const progressText = document.getElementById("progressText");

    function loadChecklistState(){
      try { return JSON.parse(localStorage.getItem(CL_KEY) || "[]"); }
      catch(e){ return []; }
    }
    function saveChecklistState(state){ localStorage.setItem(CL_KEY, JSON.stringify(state)); }

    function renderChecklist(){
      const state = loadChecklistState();
      clGrid.innerHTML = "";
      checklistItems.forEach((it, idx)=>{
        const checked = state.includes(idx);
        const el = document.createElement("label");
        el.className = "cl-item";
        el.innerHTML = `
          <input type="checkbox" data-idx="${idx}" ${checked ? "checked":""} />
          <div>
            <b>${it.t}</b>
            <span>${it.d}</span>
          </div>
        `;
        clGrid.appendChild(el);
      });

      clGrid.querySelectorAll("input[type=checkbox]").forEach(cb=>{
        cb.addEventListener("change", ()=>{
          const idx = Number(cb.dataset.idx);
          let st = loadChecklistState();
          if(cb.checked){ if(!st.includes(idx)) st.push(idx); }
          else { st = st.filter(x=>x!==idx); }
          saveChecklistState(st);
          updateProgress();
        });
      });

      updateProgress();
    }

    function updateProgress(){
      const st = loadChecklistState();
      const done = st.length;
      const total = checklistItems.length;
      const pct = total ? Math.round(done/total*100) : 0;
      bar.style.width = pct + "%";
      progressText.textContent = `${done} / ${total} ì™„ë£Œ (${pct}%)`;
    }

    document.getElementById("clearChecklist").addEventListener("click", ()=>{
      localStorage.removeItem(CL_KEY);
      renderChecklist();
    });

    document.getElementById("copyChecklist").addEventListener("click", async ()=>{
      const st = loadChecklistState();
      const done = st.map(i=>`[âœ“] ${checklistItems[i].t} - ${checklistItems[i].d}`);
      const notDone = checklistItems
        .map((it,i)=>({it,i}))
        .filter(x=>!st.includes(x.i))
        .map(x=>`[ ] ${x.it.t} - ${x.it.d}`);

      const text =
`[ì•„ìŠ¤íŒ”íŠ¸ í¬ì¥ê³µì‚¬ ì¼ì¼ì ê²€]
- ì™„ë£Œ: ${st.length}/${checklistItems.length}

âœ… ì™„ë£Œ í•­ëª©
${done.length ? done.join("\n") : "(ì—†ìŒ)"}

â¬œ ë¯¸ì™„ë£Œ í•­ëª©
${notDone.length ? notDone.join("\n") : "(ì—†ìŒ)"}
`;
      try{
        await navigator.clipboard.writeText(text);
        alert("ì ê²€ê²°ê³¼ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.");
      }catch(e){
        prompt("ë³µì‚¬ê°€ ì°¨ë‹¨ë˜ì–´ ìˆ˜ë™ ë³µì‚¬í•˜ì„¸ìš”.", text);
      }
    });

    renderChecklist();

    /* ================= TBM (mixed: process+equip+condition) ================= */
    const tbmSite = document.getElementById("tbmSite");
    const tbmProc = document.getElementById("tbmProc");
    const tbmEquip = document.getElementById("tbmEquip");
    const tbmCond = document.getElementById("tbmCond");
    const tbmOut = document.getElementById("tbmOut");

    function tbmFocus(proc, equip){
      // ì§€ì¹¨ í•µì‹¬ì„ â€œì§§ì€ ë¬¸ì¥â€ìœ¼ë¡œ
      const base = [];
      // ê³µì •
      if(proc==="ìš´ë°˜") base.push("í›„ì§„ ì¶©ëŒ ìœ„í—˜ì´ í¬ë‹ˆ ìœ ë„ì ì‹ í˜¸ë¥¼ ì ˆëŒ€ ì¤€ìˆ˜í•©ë‹ˆë‹¤.");
      if(proc==="í¬ì„¤") base.push("í”¼ë‹ˆì…” í˜¸í¼/ì „ë°© ìœ ë„ì ìœ„ì¹˜ë¥¼ ê³ ì •í•˜ê³  ë¤í”„ ê³µê¸‰ ìƒíƒœë¥¼ ìˆ˜ì‹œ í™•ì¸í•©ë‹ˆë‹¤.");
      if(proc==="ì „ì••") base.push("ì „ì•• êµ¬ê°„ ê·¼ì ‘ ì¶œì…ì„ í†µì œí•˜ê³  ê±°ë¦¬ ê¸°ì¤€(1m/2~3m)ì„ ìœ ì§€í•©ë‹ˆë‹¤.");
      if(proc==="ì‚´í¬") base.push("ì‚´í¬ êµ¬ê°„ ê·¼ì ‘ì„ í†µì œí•˜ê³  ê³ ì˜¨ ì¬ë£Œ ë¹„ì‚°/í™”ìƒì— ì£¼ì˜í•©ë‹ˆë‹¤.");
      if(proc==="êµí†µ") base.push("êµí†µ í˜¼ì¬ êµ¬ê°„ì€ í†µì œêµ¬ê°„ì„ ë¶„ë¦¬í•˜ê³  ì£¼í–‰ë¡œë¥¼ ì •ë¦¬ì •ëˆí•©ë‹ˆë‹¤.");

      // ì¥ë¹„ í¬ì¸íŠ¸
      if(equip==="ë¤í”„íŠ¸ëŸ­") base.push("ë¤í”„ í›„ì§„ ì‹œ ê²½ê³ ìŒ/ê²½ê´‘ë“± ìƒíƒœ í™•ì¸, ìš´ì „ì ì‹œì•¼ í™•ë³´.");
      if(equip==="í”¼ë‹ˆì…”") base.push("í”¼ë‹ˆì…” í˜¸í¼ ë¶€ê·¼ ì ‘ê·¼ ê¸ˆì§€, ìœ ë„ì‹ í˜¸ëŠ” í˜¸ê°+ìˆ˜ì‹ í˜¸ ë³‘ìš©.");
      if(equip.includes("ë¡¤ëŸ¬")) base.push("ë¡¤ëŸ¬ ì£¼í–‰ì„ ì—ì„œ ì´ê²©, ë§ˆë¬´ë¦¬ê³µì€ 2~3m ê±°ë¦¬ ìœ ì§€.");
      if(equip==="ë””ìŠ¤íŠ¸ë¦¬ë·°í„°") base.push("ì‚´í¬ ì¥ë¹„ ì£¼ë³€ ì¶œì… í†µì œ, ë³´í˜¸êµ¬ ì°©ìš©.");

      return base;
    }

    function tbmCondition(cond){
      if(cond==="ì•¼ê°„") return [
        "ì•¼ê°„ì€ ë°˜ì‚¬ì¡°ë¼ ì°©ìš©, ì „ìì‹ í˜¸ë´‰/ê¹ƒë°œë¡œ ìœ ë„í•©ë‹ˆë‹¤.",
        "ìš´ì „ìÂ·ìœ ë„ì ê°„ ì—°ë½ ì‹ í˜¸ê°€ ë˜ëŠ” ìœ„ì¹˜ì—ì„œë§Œ ì‹ í˜¸í•©ë‹ˆë‹¤."
      ];
      if(cond==="ë™ì ˆê¸°") return [
        "ë™ì ˆê¸°ëŠ” ì‚´ìˆ˜ ìˆ˜ì¦ê¸°ë¡œ ì‹œì•¼ê°€ ê°€ë ¤ì§ˆ ìˆ˜ ìˆì–´ ì†ë„ë¥¼ ë‚®ì¶”ê³  ë™ì„ ì„ ì¬í™•ì¸í•©ë‹ˆë‹¤."
      ];
      if(cond==="ê°œë°©êµí†µ") return [
        "ê°œë°©êµí†µ í˜¼ì¬ ì‹œ í†µì œêµ¬ê°„ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ê³  ì‹ í˜¸ìˆ˜ ì§€ì‹œì— ë”°ë¦…ë‹ˆë‹¤."
      ];
      if(cond==="ê·¼ì ‘ì‘ì—…") return [
        "ê·¼ì ‘ì‘ì—…ì€ ê°ë…ì ì§€ì‹œ í•˜ì—ë§Œ ì‹œí–‰í•˜ë©°, ì‘ì—…ë°˜ê²½ ì¶œì…ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤."
      ];
      return [];
    }

    document.getElementById("genTBM").addEventListener("click", ()=>{
      const site = (tbmSite.value || "").trim() || "ë³¸ í˜„ì¥";
      const proc = tbmProc.value;
      const equip = tbmEquip.value;
      const cond = tbmCond.value;

      const lines = []
      lines.push("ì§€ê¸ˆë¶€í„° ì‘ì—… ì „ ì•ˆì „êµìœ¡(TBM)ì„ ì‹¤ì‹œí•˜ê² ìŠµë‹ˆë‹¤.");
      lines.push(`ì—¬ê¸°ëŠ” ${site}ì´ë©°, ì˜¤ëŠ˜ ê³µì •ì€ '${proc}', ì¥ë¹„ëŠ” '${equip}'ì…ë‹ˆë‹¤.`);
      lines.push("ì˜¤ëŠ˜ í•µì‹¬ ìœ„í—˜ì€ í›„ì§„/ê·¼ì ‘ì‘ì—…ìœ¼ë¡œ ì¸í•œ ì¶©ëŒÂ·í˜‘ì°©ê³¼ ê³ ì˜¨ í™”ìƒì…ë‹ˆë‹¤.");

      tbmFocus(proc, equip).forEach(x=>lines.push(x));
      tbmCondition(cond).forEach(x=>lines.push(x));

      // ì§€ì¹¨ ê³µí†µ í•µì‹¬(ì§§ê²Œ ê³ ì •)
      lines.push("ìœ ë„ì‹ í˜¸ëŠ” í˜¸ê°ê³¼ ìˆ˜ì‹ í˜¸ë¥¼ ë³‘ìš©í•˜ê³ , ì‘ì—…ë°˜ê²½ ë‚´ ì¶œì…ì„ í†µì œí•©ë‹ˆë‹¤.");
      lines.push("ì´ìƒ ì§•í›„ ë°œê²¬ ì‹œ ì¦‰ì‹œ ì‘ì—…ì„ ì¤‘ì§€í•˜ê³  ê´€ë¦¬ê°ë…ìì—ê²Œ ë³´ê³ í•©ë‹ˆë‹¤.");

      tbmOut.value = lines.join("\n");
    });

    document.getElementById("copyTBM").addEventListener("click", async ()=>{
      const text = tbmOut.value.trim();
      if(!text){ alert("ë¨¼ì € TBMì„ ìƒì„±í•˜ì„¸ìš”."); return; }
      try{
        await navigator.clipboard.writeText(text);
        alert("TBM ë¬¸êµ¬ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.");
      }catch(e){
        prompt("ë³µì‚¬ê°€ ì°¨ë‹¨ë˜ì–´ ìˆ˜ë™ ë³µì‚¬í•˜ì„¸ìš”.", text);
      }
    });
  </script>
</body>
</html>
