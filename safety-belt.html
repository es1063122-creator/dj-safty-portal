<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì•ˆì „ëŒ€ ì‚¬ìš©ì§€ì¹¨ | SOP Â· ì ê²€ì²´í¬ Â· TBM 10ì´ˆ</title>
  <meta name="description" content="ì•ˆì „ëŒ€(ì „ì‹ í˜•/ëœì•¼ë“œ/ì•ˆì „ë¸”ë¡) ì„ ì •Â·ì°©ìš©Â·ê±¸ì´Â·ì ê²€Â·ë³´ê´€ ê¸°ì¤€. ì²´í¬ë¦¬ìŠ¤íŠ¸ ì €ì¥, ì§„í–‰ë¥ , ê²°ê³¼ë³µì‚¬, 10ì´ˆ TBM ìë™ ìƒì„±." />
  <meta name="theme-color" content="#004080" />

  <!-- Pretendard -->
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

  <style>
    :root{
      --blue:#004080;
      --blue2:#007bff;
      --ink:#0b1220;
      --muted:#5a6477;
      --bg:#f5f8ff;
      --card:#ffffff;
      --line:rgba(0,64,128,.14);
      --shadow:0 18px 60px rgba(0,64,128,.10);
      --radius:18px;
      --radius2:26px;
    }
    [data-theme="dark"]{
      --ink:#eaf1ff;
      --muted:#b8c4da;
      --bg:#071225;
      --card:#0b1b33;
      --line:rgba(127,170,255,.18);
      --shadow:0 18px 60px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Pretendard,system-ui,-apple-system,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 18% 10%, rgba(0,123,255,.18), transparent 55%),
        radial-gradient(900px 520px at 80% 0%, rgba(0,64,128,.22), transparent 50%),
        var(--bg);
      line-height:1.7;
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .container{width:min(1200px, calc(100% - 40px)); margin:0 auto}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background:linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.52));
      border-bottom:1px solid rgba(0,64,128,.10);
    }
    [data-theme="dark"] .topbar{
      background:linear-gradient(180deg, rgba(11,27,51,.78), rgba(11,27,51,.55));
      border-bottom:1px solid rgba(127,170,255,.14);
    }
    .topbar-inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0; gap:16px;
    }
    .brand{display:flex; align-items:center; gap:12px; font-weight:900; letter-spacing:-.02em}
    .logo{
      width:38px; height:38px; border-radius:12px;
      background:linear-gradient(135deg, var(--blue), var(--blue2));
      box-shadow:0 14px 40px rgba(0,64,128,.25);
      position:relative; overflow:hidden;
    }
    .logo:before{
      content:""; position:absolute; inset:-40%;
      background:conic-gradient(from 120deg, rgba(255,255,255,.0), rgba(255,255,255,.55), rgba(255,255,255,.0));
      animation:spin 4.5s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand small{display:block; font-size:12px; color:var(--muted); font-weight:700; margin-top:2px}

    .nav{
      display:flex; gap:14px; flex-wrap:wrap; justify-content:flex-end;
      font-size:13px; font-weight:800; color:var(--muted);
    }
    .nav a{padding:8px 10px; border-radius:999px}
    .nav a:hover{background:rgba(0,64,128,.06); color:var(--ink)}

    .actions{display:flex; align-items:center; gap:10px}
    .btn{
      border:1px solid var(--line);
      background:rgba(255,255,255,.65);
      color:var(--ink);
      border-radius:999px;
      padding:10px 12px;
      font-weight:900;
      cursor:pointer;
      transition:.18s ease;
      display:inline-flex; align-items:center; gap:8px;
    }
    [data-theme="dark"] .btn{background:rgba(11,27,51,.65)}
    .btn:hover{transform:translateY(-1px); box-shadow:0 10px 22px rgba(0,64,128,.12)}
    .btn.primary{
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      border-color:transparent;
      color:#fff;
      box-shadow:0 18px 45px rgba(0,64,128,.22);
    }

    /* Hero */
    .hero{padding:42px 0 22px}
    .hero-grid{display:grid; gap:22px; grid-template-columns:1.15fr .85fr; align-items:stretch}
    @media (max-width: 980px){ .hero-grid{grid-template-columns:1fr} .nav{display:none} }
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.70));
      border:1px solid rgba(0,64,128,.14);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      padding:26px;
    }
    [data-theme="dark"] .hero-card{
      background:linear-gradient(180deg, rgba(11,27,51,.86), rgba(11,27,51,.66));
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 12px; border-radius:999px;
      background:rgba(0,64,128,.08);
      border:1px solid rgba(0,64,128,.14);
      color:var(--ink);
      font-weight:900; font-size:12px;
    }
    .dot{width:8px;height:8px;border-radius:99px;background:linear-gradient(135deg,var(--blue),var(--blue2))}
    h1{margin:14px 0 10px; font-size:36px; letter-spacing:-.03em; line-height:1.15}
    @media (max-width:560px){ h1{font-size:28px} }
    .lead{margin:0; color:var(--muted); font-weight:700}
    .hero-kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:18px}
    .kpi{
      background:rgba(0,64,128,.06);
      border:1px solid rgba(0,64,128,.12);
      border-radius:16px;
      padding:12px;
    }
    [data-theme="dark"] .kpi{background:rgba(127,170,255,.08); border-color:rgba(127,170,255,.16)}
    .kpi b{display:block; font-size:12px; color:var(--muted)}
    .kpi strong{display:block; margin-top:4px; font-size:18px}

    /* Sections */
    section{padding:26px 0}
    .section-title{
      display:flex; align-items:flex-end; justify-content:space-between; gap:16px;
      margin:0 0 14px;
    }
    .section-title h2{margin:0; font-size:22px; letter-spacing:-.02em}
    .hint{color:var(--muted); font-weight:700; font-size:13px}

    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 12px 30px rgba(0,64,128,.08);
    }
    .card h3{margin:0 0 10px; font-size:16px}
    .card p{margin:0; color:var(--muted); font-weight:650}
    .list{margin:10px 0 0; padding-left:18px; color:var(--muted); font-weight:650}
    .list li{margin:6px 0}

    /* Risk table */
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin:10px 0 12px}
    .search{flex:1; display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .input, select, textarea{
      border:1px solid var(--line);
      background:rgba(255,255,255,.7);
      color:var(--ink);
      border-radius:12px;
      padding:10px 12px;
      font-weight:800;
      outline:none;
      min-width:180px;
      font-family:inherit;
    }
    [data-theme="dark"] .input, [data-theme="dark"] select, [data-theme="dark"] textarea{background:rgba(11,27,51,.7)}
    .input{flex:1; min-width:220px}
    .table-wrap{overflow:auto; border-radius:16px; border:1px solid var(--line); background:var(--card)}
    table{border-collapse:separate; border-spacing:0; width:100%; min-width:900px; font-size:13px}
    thead th{
      position:sticky; top:0;
      background:linear-gradient(180deg, rgba(0,64,128,.10), rgba(0,64,128,.06));
      text-align:left; padding:12px 12px; border-bottom:1px solid var(--line);
      font-weight:950; z-index:1;
    }
    tbody td{padding:12px 12px; border-bottom:1px solid rgba(0,64,128,.10); color:var(--muted); vertical-align:top; font-weight:650}
    tbody tr:hover td{background:rgba(0,64,128,.04); color:var(--ink)}
    .tag{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 10px; border-radius:999px;
      border:1px solid rgba(0,64,128,.14);
      background:rgba(0,64,128,.06);
      color:var(--ink);
      font-weight:950; font-size:12px; white-space:nowrap;
    }

    /* Steps */
    .steps{display:grid; gap:14px; grid-template-columns:repeat(3,1fr)}
    @media (max-width:980px){ .steps{grid-template-columns:1fr} }
    .step{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 12px 30px rgba(0,64,128,.08);
    }
    .no{
      width:34px; height:34px; border-radius:12px;
      display:grid; place-items:center;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      color:#fff; font-weight:950;
      box-shadow:0 14px 30px rgba(0,64,128,.18);
    }
    .step h3{margin:10px 0 8px; font-size:16px}
    .step ul{margin:0; padding-left:18px; color:var(--muted); font-weight:650}
    .step li{margin:6px 0}

    /* Checklist */
    .checklist{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .cl-head{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; margin-bottom:12px}
    .cl-head h3{margin:0; font-size:16px}
    .cl-meta{display:flex; gap:10px; flex-wrap:wrap}
    .cl-meta .input{min-width:180px; flex:unset}
    .cl-items{display:grid; gap:10px}
    .cl-item{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(0,64,128,.12);
      background:rgba(0,64,128,.05);
    }
    [data-theme="dark"] .cl-item{border-color:rgba(127,170,255,.16); background:rgba(127,170,255,.08)}
    .cl-item input[type="checkbox"]{margin-top:4px; width:18px; height:18px; accent-color:var(--blue2); cursor:pointer}
    .cl-item b{display:block; font-size:13px}
    .cl-item small{display:block; color:var(--muted); font-weight:650; margin-top:2px}
    .progress{height:10px; background:rgba(0,64,128,.10); border:1px solid rgba(0,64,128,.12); border-radius:999px; overflow:hidden}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--blue),var(--blue2)); transition:width .25s ease}

    /* TBM */
    .tbm{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .tbm-grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:980px){ .tbm-grid{grid-template-columns:1fr} }

    /* Footer */
    footer{padding:26px 0 40px; color:var(--muted); font-weight:700; font-size:12px}
    .foot{display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap; border-top:1px solid rgba(0,64,128,.12); padding-top:16px}

    /* Print */
    @media print{
      .topbar, .actions, .nav, .btn, .toolbar, .hint { display:none !important; }
      body{background:#fff}
      .hero{padding:0}
      .hero-card,.card,.step,.checklist,.tbm{box-shadow:none!important}
      .container{width:100%}
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="container">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            ì•ˆì „ëŒ€ ì‚¬ìš©ì§€ì¹¨
            <small>ì¶”ë½ ì˜ˆë°© | ì„ ì • Â· ì°©ìš© Â· ê±¸ì´ Â· ì ê²€ Â· TBM</small>
          </div>
        </div>

        <nav class="nav" aria-label="ì£¼ìš” ë©”ë‰´">
          <a href="#overview">ê°œìš”</a>
          <a href="#risks">ìœ„í—˜ìš”ì¸/ëŒ€ì±…</a>
          <a href="#procedure">SOP</a>
          <a href="#checklist">ì¼ì¼ì ê²€</a>
          <a href="#tbm">TBM 10ì´ˆ</a>
        </nav>

        <div class="actions">
          <button class="btn" id="themeBtn" type="button" title="ë‹¤í¬ëª¨ë“œ ì „í™˜">ğŸŒ™ í…Œë§ˆ</button>
          <button class="btn" id="printBtn" type="button" title="ì¸ì‡„/ì €ì¥(PDF)">ğŸ–¨ï¸ ì¸ì‡„</button>
          <a class="btn primary" href="#tbm" title="ë°”ë¡œ TBM">ğŸ™ï¸ TBM</a>
        </div>
      </div>
    </div>
  </div>

  <header class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="hero-card">
          <span class="badge"><span class="dot"></span> ì¶”ë½ ì¬í•´ â€œ0â€ì„ ìœ„í•œ í•„ìˆ˜ ê¸°ì¤€</span>
          <h1>ì•ˆì „ëŒ€ëŠ” â€œì°©ìš©â€ë³´ë‹¤<br/>â€œê±¸ì´ì Â·ì¶©ê²©ê±°ë¦¬Â·ì ê²€â€ì´ í•µì‹¬ì…ë‹ˆë‹¤.</h1>
          <p class="lead">
            ê³ ì†Œì‘ì—… ì¶”ë½ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ <b>ê±¸ì´ì  ë¶€ì ì •</b>, <b>ì¶©ê²©ê±°ë¦¬ ë¯¸í™•ë³´</b>,
            <b>ëœì•¼ë“œ/í›… ì†ìƒ</b>, <b>ë¯¸ì ê²€</b>ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.
            ì´ í˜ì´ì§€ëŠ” í˜„ì¥ì—ì„œ ë°”ë¡œ ì“°ëŠ” <b>ì ê²€Â·êµìœ¡Â·TBM</b>ê¹Œì§€ í¬í•¨í•©ë‹ˆë‹¤.
          </p>

          <div class="hero-kpis" role="list">
            <div class="kpi" role="listitem"><b>ì¤‘ì  ìœ„í—˜</b><strong>ì¶”ë½</strong></div>
            <div class="kpi" role="listitem"><b>ì¤‘ì  ìœ„í—˜</b><strong>ì¶©ê²©ê±°ë¦¬</strong></div>
            <div class="kpi" role="listitem"><b>ì¤‘ì  ìœ„í—˜</b><strong>ê±¸ì´ì </strong></div>
          </div>

          <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap;">
            <a class="btn" href="#risks">âš ï¸ ìœ„í—˜ìš”ì¸</a>
            <a class="btn" href="#checklist">ğŸ§¾ ì ê²€ ì‹œì‘</a>
            <a class="btn" href="#tbm">ğŸ™ï¸ TBM</a>
          </div>
        </div>

        <aside class="hero-card">
          <h3 style="margin:0 0 8px; font-size:16px;">ğŸ¯ í˜„ì¥ í•µì‹¬ 5ì›ì¹™</h3>
          <ul class="list" style="margin:0;">
            <li>ì „ì‹ í˜•(í•˜ë„¤ìŠ¤) ìš°ì„ </li>
            <li>ê±¸ì´ì ì€ â€œí—ˆë¦¬ë³´ë‹¤ ë†’ê²Œâ€</li>
            <li>ì¶©àµ€à´µàµê±°ë¦¬(ë‚™í•˜ê±°ë¦¬+ì—¬ìœ ) í™•ë³´</li>
            <li>2ì¤‘ í›…(ì´ë™ ì‹œ) ë˜ëŠ” ì•ˆì „ë¸”ë¡ í™œìš©</li>
            <li>ì‚¬ìš© ì „Â·í›„ ì ê²€ + ì†ìƒ ì¦‰ì‹œ íê¸°</li>
          </ul>
        </aside>
      </div>
    </div>
  </header>

  <main>
    <!-- OVERVIEW -->
    <section id="overview">
      <div class="container">
        <div class="section-title">
          <h2>ê°œìš”</h2>
          <div class="hint">ëª©ì  Â· ì ìš©ë²”ìœ„ Â· ìš©ì–´</div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>1) ëª©ì </h3>
            <p>ì¶”ë½ ìœ„í—˜ ì‘ì—…ì—ì„œ ì•ˆì „ëŒ€ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì„ ì •Â·ì°©ìš©Â·ì‚¬ìš©Â·ì ê²€í•˜ì—¬ ì¶”ë½ ì¬í•´ë¥¼ ì˜ˆë°©í•©ë‹ˆë‹¤.</p>
          </div>
          <div class="card">
            <h3>2) ì ìš©ë²”ìœ„</h3>
            <p>ë‚œê°„/ë°œíŒì´ ë¶ˆì™„ì „í•œ ê³ ì†Œì‘ì—…, ê°œêµ¬ë¶€ ì£¼ë³€, ì² ê³¨Â·ë¹„ê³„Â·ì‚¬ë‹¤ë¦¬ ì‘ì—… ë“± ì¶”ë½ ìœ„í—˜ ì‘ì—… ì „ë°˜.</p>
          </div>
          <div class="card">
            <h3>3) í•µì‹¬ ìš©ì–´</h3>
            <p><b>ê±¸ì´ì (Anchor)</b> / <b>ëœì•¼ë“œ(Lanyard)</b> / <b>ì‡¼í¬ì—…ì†Œë²„</b> / <b>ì•ˆì „ë¸”ë¡(SRL)</b></p>
          </div>
        </div>
      </div>
    </section>

    <!-- RISKS -->
    <section id="risks">
      <div class="container">
        <div class="section-title">
          <h2>ì¤‘ì  ìœ„í—˜ìš”ì¸ ë° ì•ˆì „ëŒ€ì±…</h2>
          <div class="hint">TBM/êµìœ¡ì— ë°”ë¡œ ì“°ëŠ” ê²€ìƒ‰ í‘œ</div>
        </div>

        <div class="toolbar">
          <div class="search">
            <input class="input" id="q" placeholder="ì˜ˆ) ê±¸ì´ì , í›…, ì‡¼í¬ì—…ì†Œë²„, ì¶©ê²©ê±°ë¦¬, í•˜ë„¤ìŠ¤â€¦" />
            <select id="type">
              <option value="">ìœ í˜•(ì „ì²´)</option>
              <option value="ì„ ì •">ì„ ì •</option>
              <option value="ì°©ìš©">ì°©ìš©</option>
              <option value="ê±¸ì´ì ">ê±¸ì´ì </option>
              <option value="ì¶©ê²©ê±°ë¦¬">ì¶©ê²©ê±°ë¦¬</option>
              <option value="ì ê²€">ì ê²€</option>
              <option value="ë³´ê´€/íê¸°">ë³´ê´€/íê¸°</option>
            </select>
          </div>
          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn" id="reset" type="button">â†º ì´ˆê¸°í™”</button>
          </div>
        </div>

        <div class="table-wrap" role="region" aria-label="ì•ˆì „ëŒ€ ìœ„í—˜ìš”ì¸ ë° ëŒ€ì±… í‘œ" tabindex="0">
          <table>
            <thead>
              <tr>
                <th style="width:140px">ìœ í˜•</th>
                <th>ìœ„í—˜ìš”ì¸(í˜„ì¥ ìƒí™©)</th>
                <th>ì•ˆì „ëŒ€ì±…(í•µì‹¬ í†µì œ)</th>
              </tr>
            </thead>
            <tbody id="riskBody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- PROCEDURE -->
    <section id="procedure">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—…ì ˆì°¨(SOP)</h2>
          <div class="hint">ì„ ì • â†’ ì°©ìš© â†’ ê±¸ì´ â†’ ì‘ì—… â†’ ì¢…ë£Œ/ë³´ê´€</div>
        </div>

        <div class="steps">
          <div class="step">
            <div class="no">1</div>
            <h3>ì„ ì •</h3>
            <ul>
              <li>ê³ ì†Œì‘ì—…ì€ ì „ì‹ í˜•(í•˜ë„¤ìŠ¤) ê¸°ë³¸</li>
              <li>ì´ë™/ìˆ˜í‰ ì´ë™ì´ ë§ìœ¼ë©´ 2ì¤‘ í›… ë˜ëŠ” ì•ˆì „ë¸”ë¡</li>
              <li>ì‘ì—…í™˜ê²½(ëª¨ì„œë¦¬/ì—´/ì•½í’ˆ/ìš©ì ‘ë¶ˆê½ƒ)ì— ì í•©í•œ ì¬ì§ˆ ì„ íƒ</li>
            </ul>
          </div>

          <div class="step">
            <div class="no">2</div>
            <h3>ì°©ìš©</h3>
            <ul>
              <li>ê°€ìŠ´/ë‹¤ë¦¬ ìŠ¤íŠ¸ë© ì¡°ì„ ìƒíƒœ í™•ì¸(í—ê±°ì›€ ê¸ˆì§€)</li>
              <li>Dë§ ìœ„ì¹˜ê°€ ì¤‘ì•™ì— ì˜¤ë„ë¡ ì¡°ì •</li>
              <li>ë²„í´/ì¬ë´‰ë¶€/ì›¨ë¹™ ì†ìƒ ì—¬ë¶€ ì ê²€ í›„ ì°©ìš©</li>
            </ul>
          </div>

          <div class="step">
            <div class="no">3</div>
            <h3>ê±¸ì´ ë° ì‘ì—…</h3>
            <ul>
              <li>ê±¸ì´ì ì€ ê°€ëŠ¥í•˜ë©´ â€œí—ˆë¦¬ë³´ë‹¤ ë†’ê²Œâ€</li>
              <li>ì¶©ê²©ê±°ë¦¬ í™•ë³´(ë‚™í•˜ê±°ë¦¬ + ì™„ì¶© + ì‹ ì¥ + ì—¬ìœ )</li>
              <li>ì´ë™ ì‹œ 2ì¤‘ í›…ìœ¼ë¡œ í•­ìƒ 1ê°œ ì´ìƒ ê±¸ë¦¼ ìœ ì§€</li>
              <li>í›…ì€ ì ê¸ˆì¥ì¹˜(ê²Œì´íŠ¸) ì™„ì „ ì²´ê²° í™•ì¸</li>
            </ul>
          </div>
        </div>

        <div style="margin-top:14px" class="card">
          <h3>ì‘ì—… ì¢…ë£Œ/ë³´ê´€</h3>
          <ul class="list">
            <li>ì‚¬ìš© í›„ ì˜¤ì—¼(ìœ ë¥˜/ì‹œë©˜íŠ¸/ì•½í’ˆ) ì œê±° ë° ìì—° ê±´ì¡°</li>
            <li>ì§ì‚¬ê´‘ì„ Â·ê³ ì˜¨Â·ìŠµê¸°Â·í™”ê¸° ì—†ëŠ” ì¥ì†Œ ë³´ê´€</li>
            <li>ì¶”ë½ ì¶©ê²© ì´ë ¥ ë˜ëŠ” ì†ìƒ ë°œê²¬ ì‹œ ì¦‰ì‹œ íê¸°(ì¬ì‚¬ìš© ê¸ˆì§€)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CHECKLIST -->
    <section id="checklist">
      <div class="container">
        <div class="section-title">
          <h2>ì•ˆì „ëŒ€ ì¼ì¼ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
          <div class="hint">ì²´í¬ ìƒíƒœëŠ” ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤</div>
        </div>

        <div class="checklist">
          <div class="cl-head">
            <h3>âœ… ì˜¤ëŠ˜ ì ê²€</h3>
            <div class="cl-meta">
              <input class="input" id="site" placeholder="í˜„ì¥ëª… (ì˜ˆ: â—‹â—‹í˜„ì¥)" />
              <input class="input" id="work" placeholder="ì‘ì—… (ì˜ˆ: ì² ê³¨ ì¡°ë¦½)" />
              <input class="input" id="inspector" placeholder="ì ê²€ì (ì˜ˆ: ê¹€ëŒ€í™)" />
            </div>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <button class="btn" id="saveMeta" type="button">ğŸ’¾ ì •ë³´ ì €ì¥</button>
              <button class="btn" id="clearAll" type="button">ğŸ§¹ ì „ì²´ í•´ì œ</button>
              <button class="btn primary" id="exportTxt" type="button">ğŸ“„ ê²°ê³¼ ë³µì‚¬</button>
            </div>
          </div>

          <div class="progress" aria-label="ì ê²€ ì§„í–‰ë¥ ">
            <div class="bar" id="bar"></div>
          </div>

          <div style="height:10px"></div>
          <div class="cl-items" id="cl"></div>

          <p style="margin:12px 0 0; color:var(--muted); font-weight:700; font-size:12px;">
            â€» â€œê±¸ì´ì /ì¶©ê²©ê±°ë¦¬/í›… ì²´ê²°â€ í•­ëª©ì€ TBMì—ì„œ ë°˜ë“œì‹œ ì¬í™•ì¸í•˜ì‹­ì‹œì˜¤.
          </p>
        </div>
      </div>
    </section>

    <!-- TBM -->
    <section id="tbm">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—… ì „ ì•ˆì „êµìœ¡(TBM) 10ì´ˆ ìŠ¤í¬ë¦½íŠ¸</h2>
          <div class="hint">í˜„ì¥ëª…/ì‘ì—…ë‚´ìš© ì…ë ¥ â†’ ì¦‰ì‹œ ìƒì„±/ë³µì‚¬</div>
        </div>

        <div class="tbm">
          <div class="tbm-grid">
            <input class="input" id="tbmSite" placeholder="í˜„ì¥ëª… (ì˜ˆ: â—‹â—‹í˜„ì¥)" />
            <input class="input" id="tbmWork" placeholder="ì˜¤ëŠ˜ ì‘ì—…ë‚´ìš© (ì˜ˆ: ì™¸ë²½ ë„ì¥ ê³ ì†Œì‘ì—…)" />
          </div>

          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
            <select class="input" id="tbmType" style="flex:1; min-width:260px;">
              <option value="general">ì¼ë°˜ ê³ ì†Œì‘ì—…(ì•ˆì „ëŒ€ ê¸°ë³¸)</option>
              <option value="move">ì´ë™/ìˆ˜í‰ ì´ë™ ì‘ì—…(2ì¤‘ í›…)</option>
              <option value="srl">ì•ˆì „ë¸”ë¡(SRL) ì‚¬ìš© ì‘ì—…</option>
              <option value="edge">ëª¨ì„œë¦¬/ì² ê³¨(ì ˆë‹¨ ìœ„í—˜) ì‘ì—…</option>
              <option value="ladder">ì‚¬ë‹¤ë¦¬ ì‘ì—…(ê¶Œì¥: ì‘ì—…ë°œíŒ ìš°ì„ )</option>
            </select>

            <button class="btn primary" id="genTBM" type="button">ğŸ™ï¸ 10ì´ˆ TBM ìƒì„±</button>
            <button class="btn" id="copyTBM" type="button">ğŸ“‹ ë¬¸êµ¬ ë³µì‚¬</button>
          </div>

          <textarea id="tbmResult" rows="7"
            style="margin-top:12px; width:100%; border-radius:14px; padding:12px; font-weight:800; line-height:1.6;"
            placeholder="ì—¬ê¸°ì— TBM ë¬¸êµ¬ê°€ ìƒì„±ë©ë‹ˆë‹¤."></textarea>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="foot">
          <div>Â© 2010â€“2025 DONGJIN CONSTRUCTION Co., Ltd. Â· Safety Harness Guidance UI</div>
          <div>ë³¸ í˜ì´ì§€ëŠ” í˜„ì¥ ìš´ì˜(êµìœ¡/ì ê²€/TBM) ëª©ì ì˜ í…œí”Œë¦¿ì…ë‹ˆë‹¤.</div>
        </div>
      </div>
    </footer>
  </main>

  <script>
    // Theme / Print
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeBtn');
    const savedTheme = localStorage.getItem('sb_theme');
    if(savedTheme){ root.setAttribute('data-theme', savedTheme); }
    themeBtn.addEventListener('click', () => {
      const cur = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', cur);
      localStorage.setItem('sb_theme', cur);
    });
    document.getElementById('printBtn').addEventListener('click', () => window.print());

    // Risks
    const risks = [
      { type:"ì„ ì •", hazard:"ì‘ì—… íŠ¹ì„±(ì´ë™/ëª¨ì„œë¦¬/ìš©ì ‘ë¶ˆê½ƒ)ì— ë§ì§€ ì•ŠëŠ” ì•ˆì „ëŒ€ ì‚¬ìš©", measure:"ì „ì‹ í˜• ê¸°ë³¸, ì´ë™ì€ 2ì¤‘í›…/ì•ˆì „ë¸”ë¡, ëª¨ì„œë¦¬Â·ì—´Â·ì•½í’ˆ í™˜ê²½ì€ ì í•© ì¬ì§ˆ ì„ íƒ" },
      { type:"ì°©ìš©", hazard:"í•˜ë„¤ìŠ¤ ìŠ¤íŠ¸ë©ì´ í—ê²ê±°ë‚˜ ë¹„í‹€ë¦° ìƒíƒœ", measure:"ê°€ìŠ´/ë‹¤ë¦¬ ìŠ¤íŠ¸ë© ì¡°ì„ í™•ì¸, ë¹„í‹€ë¦¼ ì œê±°, Dë§ ì¤‘ì•™ ì •ë ¬" },
      { type:"ê±¸ì´ì ", hazard:"ê±¸ì´ì ì´ í—ˆë¦¬ë³´ë‹¤ ë‚®ì•„ ë‚™í•˜ê±°ë¦¬ ì¦ê°€", measure:"ê°€ëŠ¥í•˜ë©´ í—ˆë¦¬ë³´ë‹¤ ë†’ê²Œ ê±¸ê³ , ë‚™í•˜ê±°ë¦¬ ìµœì†Œí™”" },
      { type:"ê±¸ì´ì ", hazard:"ì„ì‹œ êµ¬ì¡°ë¬¼/ë‚œê°„ ë“±ì— ê±¸ì´(ê°•ë„ ë¶ˆëª…)", measure:"ì•ˆì „í•œ ì•µì»¤(êµ¬ì¡°ì²´/ì¸ì¦ ì•µì»¤) ì‚¬ìš©, ê°•ë„ í™•ë³´ í™•ì¸" },
      { type:"ì¶©ê²©ê±°ë¦¬", hazard:"ì‘ì—…ë©´/ì¥ì• ë¬¼ê¹Œì§€ ì—¬ìœ ê±°ë¦¬ ë¶€ì¡±(ì¶”ë½ ì‹œ ì¶©ëŒ)", measure:"ë‚™í•˜ê±°ë¦¬+ì™„ì¶©+ì‹ ì¥+ì—¬ìœ ê±°ë¦¬ ê³„ì‚° í›„ ì‘ì—…ìœ„ì¹˜ ì¡°ì •" },
      { type:"ì ê²€", hazard:"í›… ì ê¸ˆì¥ì¹˜ ë¶ˆëŸ‰Â·ê²Œì´íŠ¸ ë¯¸ì²´ê²°", measure:"í›… ì ê¸ˆ/ë³µê·€ í™•ì¸, ì²´ê²° í›„ ë‹¹ê¹€ í…ŒìŠ¤íŠ¸" },
      { type:"ì ê²€", hazard:"ì›¨ë¹™(ë ) ë§ˆëª¨/ì°¢ê¹€/ì¬ë´‰ë¶€ í’€ë¦¼", measure:"ì†ìƒ ì¦‰ì‹œ ì‚¬ìš©ì¤‘ì§€Â·íê¸°, ì •ê¸°ì ê²€ ê¸°ë¡" },
      { type:"ë³´ê´€/íê¸°", hazard:"ì§ì‚¬ê´‘ì„ Â·ê³ ì—´Â·ì•½í’ˆ ë…¸ì¶œë¡œ ì¬ì§ˆ ì—´í™”", measure:"ê·¸ëŠ˜/í†µí’ ë³´ê´€, ì˜¤ì—¼ ì œê±° í›„ ìì—°ê±´ì¡°, ì¶”ë½ì¶©ê²© ì´ë ¥ ì œí’ˆì€ ì¦‰ì‹œ íê¸°" },
    ];
    const riskBody = document.getElementById('riskBody');
    const q = document.getElementById('q');
    const typeSel = document.getElementById('type');
    const resetBtn = document.getElementById('reset');

    function esc(s){
      return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;')
        .replaceAll('"','&quot;').replaceAll("'","&#039;");
    }
    function renderRisks(){
      const keyword = q.value.trim().toLowerCase();
      const t = typeSel.value;
      const filtered = risks.filter(r=>{
        const okType = !t || r.type===t;
        const hay=(r.type+" "+r.hazard+" "+r.measure).toLowerCase();
        const okKey=!keyword || hay.includes(keyword);
        return okType && okKey;
      });
      riskBody.innerHTML = filtered.map(r=>`
        <tr>
          <td><span class="tag">${esc(r.type)}</span></td>
          <td>${esc(r.hazard)}</td>
          <td>${esc(r.measure)}</td>
        </tr>
      `).join('') || `<tr><td colspan="3" style="padding:18px;color:var(--muted);font-weight:800;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
    }
    q.addEventListener('input', renderRisks);
    typeSel.addEventListener('change', renderRisks);
    resetBtn.addEventListener('click', ()=>{ q.value=""; typeSel.value=""; renderRisks(); });
    renderRisks();

    // Checklist
    const checklist = [
      { title:"ì„ ì •(ì‘ì—… ì í•©ì„±)",
        items:[
          {k:"ì „ì‹ í˜•(í•˜ë„¤ìŠ¤) ì‚¬ìš©(ìš”êµ¬ ì‘ì—…ì— ì í•©)", d:"ê³ ì†Œì‘ì—… ê¸°ë³¸"},
          {k:"ì´ë™ ì‘ì—…ì€ 2ì¤‘ í›… ë˜ëŠ” ì•ˆì „ë¸”ë¡(SRL) ì ìš©", d:"í•­ìƒ 1ê°œ ì´ìƒ ê±¸ë¦¼ ìœ ì§€"},
          {k:"ëª¨ì„œë¦¬/ì—´/ì•½í’ˆ í™˜ê²½ì— ì í•©í•œ ëœì•¼ë“œ ì„ íƒ", d:"ì ˆë‹¨Â·ì—´í™” ìœ„í—˜ ê´€ë¦¬"},
        ]},
      { title:"ì°©ìš©(í”¼íŒ…)",
        items:[
          {k:"ê°€ìŠ´/ë‹¤ë¦¬ ìŠ¤íŠ¸ë© ì¡°ì„ ìƒíƒœ ì–‘í˜¸(í—ê±°ì›€ ì—†ìŒ)", d:"ë¹„í‹€ë¦¼ ì œê±°"},
          {k:"Dë§ ìœ„ì¹˜ ì¤‘ì•™ ì •ë ¬, ë²„í´ ì²´ê²° ì •ìƒ", d:"ì²´ê²° í›„ ë‹¹ê¹€ í™•ì¸"},
        ]},
      { title:"ê±¸ì´ì /ì¶©ê²©ê±°ë¦¬",
        items:[
          {k:"ê±¸ì´ì ì€ ê°€ëŠ¥í•œ í—ˆë¦¬ë³´ë‹¤ ë†’ê²Œ í™•ë³´", d:"ë‚™í•˜ê±°ë¦¬ ìµœì†Œí™”"},
          {k:"ì¶©ê²©ê±°ë¦¬(ë‚™í•˜ê±°ë¦¬+ì™„ì¶©+ì‹ ì¥+ì—¬ìœ ) í™•ë³´", d:"ì¶©ëŒ ìœ„í—˜ ì œê±°"},
          {k:"ê±¸ì´ì  ê°•ë„ í™•ë³´(êµ¬ì¡°ì²´/ì¸ì¦ ì•µì»¤)", d:"ì„ì‹œ ë‚œê°„/ë°°ê´€ ê¸ˆì§€"},
        ]},
      { title:"ì ê²€(ì‚¬ìš© ì „)",
        items:[
          {k:"í›… ì ê¸ˆì¥ì¹˜ ì •ìƒ(ê²Œì´íŠ¸ ìë™ë³µê·€Â·ì ê¸ˆ)", d:"ì²´ê²° í›„ ë‹¹ê¹€ í…ŒìŠ¤íŠ¸"},
          {k:"ì›¨ë¹™ ë§ˆëª¨/ì°¢ê¹€/ì¬ë´‰ë¶€ í’€ë¦¼ ì—†ìŒ", d:"ì†ìƒ ì¦‰ì‹œ íê¸°"},
          {k:"ì‡¼í¬ì—…ì†Œë²„(ì™„ì¶©ì¥ì¹˜) ë³€í˜•/ì „ê°œ í”ì  ì—†ìŒ", d:"ì „ê°œ í”ì =ì‚¬ìš©ì¤‘ì§€"},
        ]},
      { title:"ì‘ì—… ì¢…ë£Œ/ë³´ê´€",
        items:[
          {k:"ì˜¤ì—¼ ì œê±° í›„ ìì—°ê±´ì¡°(ì§ì‚¬ê´‘ì„ /ì—´ì› ê¸ˆì§€)", d:"ì¬ì§ˆ ì—´í™” ë°©ì§€"},
          {k:"ë³´ê´€ì¥ì†Œ ìŠµê¸°/ì•½í’ˆ/í™”ê¸° ì—†ìŒ", d:"í†µí’ ìœ ì§€"},
          {k:"ì¶”ë½ ì¶©ê²© ì´ë ¥ ë˜ëŠ” ì´ìƒ ë°œê²¬ ì‹œ ì¦‰ì‹œ íê¸°", d:"ì¬ì‚¬ìš© ê¸ˆì§€"},
        ]},
    ];

    const cl = document.getElementById('cl');
    const bar = document.getElementById('bar');

    const KEY = "sb_checklist_v2";
    const META = "sb_meta_v2";

    function loadState(){ try{return JSON.parse(localStorage.getItem(KEY)||"{}")}catch(e){return{}} }
    function saveState(s){ localStorage.setItem(KEY, JSON.stringify(s)); }

    function flatten(){
      const flat=[];
      checklist.forEach((g,gi)=>g.items.forEach((it,ii)=>flat.push({gi,ii,group:g.title,...it})));
      return flat;
    }

    function renderChecklist(){
      const state = loadState();
      cl.innerHTML = checklist.map((g,gi)=>{
        const items = g.items.map((it,ii)=>{
          const id=`${gi}-${ii}`;
          const checked=!!state[id];
          return `
            <label class="cl-item">
              <input type="checkbox" data-id="${id}" ${checked?"checked":""}/>
              <div>
                <b>${esc(it.k)}</b>
                <small>${esc(it.d)}</small>
              </div>
            </label>
          `;
        }).join("");
        return `
          <div class="card" style="box-shadow:none;margin:0;padding:14px;">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;">
              <div style="font-weight:950">${esc(g.title)}</div>
              <button class="btn" type="button" data-group="${gi}" style="padding:8px 10px;font-size:12px;">ê·¸ë£¹ ì „ì²´ì²´í¬</button>
            </div>
            <div style="height:10px"></div>
            <div style="display:grid;gap:10px;">${items}</div>
          </div>
        `;
      }).join("");

      cl.querySelectorAll('input[type="checkbox"][data-id]').forEach(cb=>{
        cb.addEventListener('change',(e)=>{
          const id=e.target.getAttribute('data-id');
          const s=loadState();
          s[id]=e.target.checked;
          saveState(s);
          updateProgress();
        });
      });

      cl.querySelectorAll('button[data-group]').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const gi=btn.getAttribute('data-group');
          const s=loadState();
          checklist[gi].items.forEach((_,ii)=>{ s[`${gi}-${ii}`]=true; });
          saveState(s);
          renderChecklist();
          updateProgress();
        });
      });

      updateProgress();
    }

    function updateProgress(){
      const state=loadState();
      const flat=flatten();
      const total=flat.length;
      const done=flat.filter(x=>state[`${x.gi}-${x.ii}`]).length;
      const pct= total ? Math.round((done/total)*100) : 0;
      bar.style.width = pct+"%";
      bar.title = `ì§„í–‰ë¥  ${pct}% (${done}/${total})`;
    }

    // Meta
    const site = document.getElementById('site');
    const work = document.getElementById('work');
    const inspector = document.getElementById('inspector');

    function loadMeta(){ try{return JSON.parse(localStorage.getItem(META)||"{}")}catch(e){return{}} }
    function applyMeta(){
      const m=loadMeta();
      if(m.site) site.value=m.site;
      if(m.work) work.value=m.work;
      if(m.inspector) inspector.value=m.inspector;
    }

    document.getElementById('saveMeta').addEventListener('click',()=>{
      localStorage.setItem(META, JSON.stringify({
        site: site.value.trim(),
        work: work.value.trim(),
        inspector: inspector.value.trim(),
      }));
      alert("ì ê²€ ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
    });

    document.getElementById('clearAll').addEventListener('click',()=>{
      if(!confirm("ì²´í¬ë¥¼ ëª¨ë‘ í•´ì œí• ê¹Œìš”?")) return;
      localStorage.removeItem(KEY);
      renderChecklist();
    });

    document.getElementById('exportTxt').addEventListener('click', async ()=>{
      const m=loadMeta();
      const metaText=[
        `í˜„ì¥ëª…: ${site.value.trim() || m.site || "-"}`,
        `ì‘ì—…: ${work.value.trim() || m.work || "-"}`,
        `ì ê²€ì: ${inspector.value.trim() || m.inspector || "-"}`,
        `ì¼ì‹œ: ${new Date().toLocaleString()}`
      ].join("\n");

      const state=loadState();
      const flat=flatten();
      const done=[], notyet=[];
      flat.forEach(it=>{
        const id=`${it.gi}-${it.ii}`;
        (state[id] ? done : notyet).push(`- [${state[id]?"x":" "}] (${it.group}) ${it.k}`);
      });

      const text=[
        "ì•ˆì „ëŒ€ ì¼ì¼ì ê²€ ê²°ê³¼",
        "===================",
        metaText,
        "",
        "ì™„ë£Œ í•­ëª©",
        "--------",
        done.join("\n") || "(ì—†ìŒ)",
        "",
        "ë¯¸ì™„ë£Œ í•­ëª©",
        "----------",
        notyet.join("\n") || "(ì—†ìŒ)",
      ].join("\n");

      try{
        await navigator.clipboard.writeText(text);
        alert("ì ê²€ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
      }catch(e){
        const ta=document.createElement('textarea');
        ta.value=text; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); ta.remove();
        alert("ì ê²€ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
      }
    });

    // TBM
    const tbmTemplates = {
      general: [
        "ì˜¤ëŠ˜ ì‘ì—…ì€ ê³ ì†Œì‘ì—…ìœ¼ë¡œ ì¶”ë½ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.",
        "ì•ˆì „ëŒ€ëŠ” ì „ì‹ í˜•(í•˜ë„¤ìŠ¤) ì°©ìš© ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.",
        "ê±¸ì´ì ì€ í—ˆë¦¬ë³´ë‹¤ ë†’ê²Œ, í›… ì ê¸ˆì¥ì¹˜ ì²´ê²°, ì¶©ê²©ê±°ë¦¬ í™•ë³´ë¥¼ ì² ì €íˆ í•˜ì‹­ì‹œì˜¤."
      ],
      move: [
        "ì˜¤ëŠ˜ ì‘ì—…ì€ ì´ë™/ìˆ˜í‰ ì´ë™ì´ ìˆëŠ” ê³ ì†Œì‘ì—…ì…ë‹ˆë‹¤.",
        "í•­ìƒ 2ì¤‘ í›…ìœ¼ë¡œ ìµœì†Œ 1ê°œ ì´ìƒ ê±¸ë¦¼ ìƒíƒœë¥¼ ìœ ì§€í•˜ì‹­ì‹œì˜¤.",
        "ê±¸ì´ì ì€ ê²¬ê³ í•œ êµ¬ì¡°ì²´ì— ê±¸ê³ , ì´ë™ ì‹œ ë¬´ê±¸ì´ ìƒíƒœë¥¼ ë§Œë“¤ì§€ ë§ˆì‹­ì‹œì˜¤."
      ],
      srl: [
        "ì˜¤ëŠ˜ ì‘ì—…ì€ ì•ˆì „ë¸”ë¡(SRL) ì‚¬ìš© ì‘ì—…ì…ë‹ˆë‹¤.",
        "ë¸”ë¡ ì‘ë™ìƒíƒœì™€ ê±¸ì´ì  ê°•ë„ë¥¼ í™•ì¸í•˜ê³ , ë¼ì¸ ê¼¬ì„ì„ ë°©ì§€í•˜ì‹­ì‹œì˜¤.",
        "ì¶”ë½ ì‹œ ì¶©ëŒ ì—¬ìœ ê±°ë¦¬ í™•ë³´ ë° ì‚¬ìš© ì „ ì ê²€ì„ ì² ì €íˆ í•˜ì‹­ì‹œì˜¤."
      ],
      edge: [
        "ì˜¤ëŠ˜ ì‘ì—…ì€ ì² ê³¨/ëª¨ì„œë¦¬ êµ¬ê°„ ì‘ì—…ìœ¼ë¡œ ëœì•¼ë“œ ì ˆë‹¨ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.",
        "ëª¨ì„œë¦¬ ë³´í˜¸ ë° ì í•© ì¬ì§ˆ ëœì•¼ë“œë¥¼ ì‚¬ìš©í•˜ê³ , ë‚ ì¹´ë¡œìš´ ë¶€ìœ„ ì ‘ì´‰ì„ í”¼í•˜ì‹­ì‹œì˜¤.",
        "ê±¸ì´ì  ìƒë¶€ í™•ë³´, í›… ì²´ê²° í™•ì¸ í›„ ì‘ì—…í•˜ì‹­ì‹œì˜¤."
      ],
      ladder: [
        "ì˜¤ëŠ˜ ì‘ì—…ì€ ì‚¬ë‹¤ë¦¬ ì‘ì—…ì…ë‹ˆë‹¤.",
        "ì‚¬ë‹¤ë¦¬ëŠ” ì „ë„ ë°©ì§€(ê³ ì •/ê°ë„) í›„ ì‚¬ìš©í•˜ê³ , ê°€ëŠ¥í•˜ë©´ ì‘ì—…ë°œíŒì„ ìš°ì„  ì ìš©í•˜ì‹­ì‹œì˜¤.",
        "ì•ˆì „ëŒ€ëŠ” ìƒë¶€ ê±¸ì´ì  í™•ë³´ í›„ ì‚¬ìš©í•˜ë©° ë¬´ë¦¬í•œ ì²´ì¤‘ ì´ë™ì„ ê¸ˆì§€í•©ë‹ˆë‹¤."
      ],
    };

    document.getElementById("genTBM").addEventListener("click", ()=>{
      const s = document.getElementById("tbmSite").value.trim() || "ë³¸ í˜„ì¥";
      const w = document.getElementById("tbmWork").value.trim() || "ê³ ì†Œì‘ì—…";
      const type = document.getElementById("tbmType").value;
      const lines = tbmTemplates[type] || tbmTemplates.general;

      document.getElementById("tbmResult").value = `
ì§€ê¸ˆë¶€í„° ì‘ì—… ì „ ì•ˆì „êµìœ¡(TBM)ì„ ì‹¤ì‹œí•˜ê² ìŠµë‹ˆë‹¤.

ì—¬ê¸°ëŠ” ${s}ì´ë©°,
ì˜¤ëŠ˜ ì‘ì—…ì€ ${w}ì…ë‹ˆë‹¤.

${lines.join("\n")}

ì‘ì—… ì „ ì•ˆì „ëŒ€ ì ê²€ì„ ì™„ë£Œí•˜ê³ ,
ì´ìƒ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‘ì—…ì„ ì¤‘ì§€í•˜ê³  ë³´ê³  ë°”ëë‹ˆë‹¤.
      `.trim();
    });

    document.getElementById("copyTBM").addEventListener("click", async ()=>{
      const text = document.getElementById("tbmResult").value;
      if(!text){ alert("ë¨¼ì € TBM ë¬¸êµ¬ë¥¼ ìƒì„±í•˜ì„¸ìš”."); return; }
      try{ await navigator.clipboard.writeText(text); alert("TBM ë¬¸êµ¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤."); }
      catch(e){
        const ta=document.createElement('textarea');
        ta.value=text; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); ta.remove();
        alert("TBM ë¬¸êµ¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
      }
    });

    // Init
    applyMeta();
    renderChecklist();
  </script>
</body>
</html>
