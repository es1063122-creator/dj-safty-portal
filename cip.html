<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>í™ë§‰ì´ê³µì‚¬(C.I.P ê³µë²•) ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨ | ìœ„í—˜ìš”ì¸Â·SOPÂ·ì ê²€Â·TBM</title>
  <meta name="description" content="KOSHA GUIDE C-63-2012 ê¸°ë°˜. CIP í™ë§‰ì´ê³µì‚¬ ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨: ìœ„í—˜ìš”ì¸ ê²€ìƒ‰/í•„í„°, ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì €ì¥, 10ì´ˆ TBM(ê³µì •+ì¥ë¹„+íŠ¹ì´ì¡°ê±´ ë¶„ê¸°)." />
  <meta name="theme-color" content="#2563eb" />

  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

  <style>
    :root{
      --blue:#2563eb;
      --blue2:#60a5fa;
      --ink:#0b1220;
      --muted:#5a6477;
      --bg:#f5f8ff;
      --card:#ffffff;
      --line:rgba(37,99,235,.18);
      --shadow:0 18px 60px rgba(37,99,235,.14);
      --radius:18px;
      --radius2:26px;
    }
    [data-theme="dark"]{
      --ink:#e9f1ff; --muted:#b7c6dd;
      --bg:#0c1423; --card:#101c33;
      --line:rgba(96,165,250,.26);
      --shadow:0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Pretendard,system-ui,-apple-system,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 15% 0%, rgba(37,99,235,.18), transparent 55%),
        radial-gradient(900px 520px at 85% 0%, rgba(96,165,250,.18), transparent 50%),
        var(--bg);
      line-height:1.7;
    }
    a{color:inherit;text-decoration:none}
    .container{width:min(1200px, calc(100% - 40px)); margin:0 auto}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background:linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,255,255,.60));
      border-bottom:1px solid var(--line);
    }
    [data-theme="dark"] .topbar{
      background:linear-gradient(180deg, rgba(16,28,51,.86), rgba(16,28,51,.66));
    }
    .topbar-inner{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px; font-weight:950; letter-spacing:-.02em}
    .logo{
      width:38px; height:38px; border-radius:12px;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      box-shadow:0 14px 40px rgba(37,99,235,.35);
      position:relative; overflow:hidden;
    }
    .logo:before{
      content:""; position:absolute; inset:-40%;
      background:conic-gradient(from 120deg, rgba(255,255,255,0), rgba(255,255,255,.6), rgba(255,255,255,0));
      animation:spin 4.5s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand small{display:block; font-size:12px; color:var(--muted); font-weight:750}

    .nav{display:flex; gap:14px; font-size:13px; font-weight:900; color:var(--muted)}
    .nav a{padding:8px 10px; border-radius:999px}
    .nav a:hover{background:rgba(37,99,235,.10); color:var(--ink)}
    .actions{display:flex; gap:10px}
    .btn{
      border:1px solid var(--line);
      background:rgba(255,255,255,.65);
      border-radius:999px;
      padding:10px 12px;
      font-weight:950; cursor:pointer;
      display:inline-flex; gap:8px; align-items:center;
      user-select:none;
    }
    [data-theme="dark"] .btn{background:rgba(16,28,51,.65); color:var(--ink)}
    .btn.primary{
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      border:none; color:#fff;
      box-shadow:0 18px 45px rgba(37,99,235,.35);
    }

    /* Hero */
    .hero{padding:42px 0 22px}
    .hero-grid{display:grid; grid-template-columns:1.15fr .85fr; gap:22px}
    @media(max-width:980px){.hero-grid{grid-template-columns:1fr}.nav{display:none}}
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75));
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:26px; box-shadow:var(--shadow);
    }
    [data-theme="dark"] .hero-card{
      background:linear-gradient(180deg, rgba(16,28,51,.9), rgba(16,28,51,.7));
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:7px 12px; border-radius:999px;
      background:rgba(37,99,235,.14); border:1px solid var(--line);
      font-weight:950; font-size:12px;
    }
    .dot{width:8px;height:8px;border-radius:99px;background:linear-gradient(135deg,var(--blue),var(--blue2))}
    h1{margin:14px 0 10px; font-size:36px; letter-spacing:-.03em}
    .lead{color:var(--muted); font-weight:750}
    .hero-kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:18px}
    .kpi{
      background:rgba(37,99,235,.12);
      border:1px solid var(--line);
      border-radius:16px; padding:12px;
    }
    .kpi b{font-size:12px; color:var(--muted)}
    .kpi strong{display:block; font-size:18px; margin-top:4px}

    /* Sections */
    section{padding:26px 0}
    .section-title{display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:14px}
    .section-title h2{margin:0; font-size:22px}
    .hint{color:var(--muted); font-weight:750; font-size:13px}

    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 12px 30px rgba(37,99,235,.14);
    }
    .card h3{margin:0 0 8px; font-size:16px; letter-spacing:-.01em}
    .card p{margin:0; color:var(--muted); font-weight:700}
    .list{padding-left:18px; color:var(--muted); font-weight:700}

    /* Toolbar / inputs */
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; justify-content:space-between; align-items:center}
    .inputs{display:flex; gap:10px; flex-wrap:wrap; width:100%}
    .input, select, textarea{
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      background:rgba(255,255,255,.7);
      color:var(--ink);
      outline:none;
    }
    [data-theme="dark"] .input,
    [data-theme="dark"] select,
    [data-theme="dark"] textarea{
      background:rgba(16,28,51,.7);
    }
    textarea{width:100%; font-weight:800; line-height:1.65}
    .input{flex:1; min-width:220px}
    select{min-width:180px}
    .mini-actions{display:flex; gap:10px; flex-wrap:wrap}

    /* Risk table */
    .table-wrap{overflow:auto; border:1px solid var(--line); border-radius:16px; background:var(--card)}
    table{border-collapse:separate; border-spacing:0; min-width:980px; width:100%}
    thead th{
      position:sticky; top:0;
      background:rgba(37,99,235,.18);
      padding:12px;
      font-weight:950;
      text-align:left;
    }
    tbody td{
      padding:12px;
      border-bottom:1px solid rgba(37,99,235,.18);
      color:var(--muted);
      font-weight:700;
      vertical-align:top;
    }
    .tag{
      display:inline-flex; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:rgba(37,99,235,.12);
      font-weight:950; font-size:12px; color:var(--ink);
      white-space:nowrap;
    }

    /* Steps */
    .steps{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media(max-width:980px){.steps{grid-template-columns:1fr}}
    .step{
      background:var(--card); border:1px solid var(--line);
      border-radius:var(--radius); padding:18px;
      box-shadow:0 12px 30px rgba(37,99,235,.14);
    }
    .no{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      color:#fff;font-weight:950;
      margin-bottom:10px;
    }

    /* Checklist */
    .checklist{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .progress{height:10px; background:rgba(37,99,235,.2); border-radius:999px; overflow:hidden}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--blue),var(--blue2))}
    .cl-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:14px}
    @media(max-width:980px){.cl-grid{grid-template-columns:1fr}}
    .cl-item{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px;
      border-radius:16px;
      background:rgba(37,99,235,.10);
      border:1px solid rgba(37,99,235,.16);
    }
    .cl-item input{margin-top:4px; accent-color:var(--blue)}
    .cl-item b{display:block}
    .cl-item span{display:block; color:var(--muted); font-weight:700; font-size:13px}

    /* Print */
    @media print{
      .topbar,.nav,.actions,.toolbar,.mini-actions{display:none!important}
      body{background:#fff}
      .card,.hero-card,.checklist,.step{box-shadow:none!important}
      .table-wrap{border:1px solid #ddd}
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="container">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo"></div>
          <div>
            í™ë§‰ì´ê³µì‚¬(C.I.P ê³µë²•) ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨
            <small>ë¶•ê´´Â·ì „ë„Â·í˜‘ì°©Â·ë‚™í•˜ ì˜ˆë°© | ê°œìš” Â· ìœ„í—˜ìš”ì¸ Â· SOP Â· ì ê²€ Â· TBM</small>
          </div>
        </div>
        <nav class="nav">
          <a href="#overview">ê°œìš”</a>
          <a href="#risks">ìœ„í—˜ìš”ì¸</a>
          <a href="#sop">SOP</a>
          <a href="#check">ì ê²€</a>
          <a href="#tbm">TBM</a>
        </nav>
        <div class="actions">
          <button class="btn" id="themeBtn" title="ë‹¤í¬ëª¨ë“œ">ğŸŒ™</button>
          <button class="btn" onclick="window.print()" title="ì¸ì‡„/PDF">ğŸ–¨ï¸</button>
          <a class="btn primary" href="#tbm">ğŸ™ï¸ TBM</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <header class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="hero-card">
          <span class="badge"><span class="dot"></span> í˜„ì¥ìš© í‘œì¤€ ì§€ì¹¨ (CIP ê³µë²•)</span>
          <h1>CIP ì¬í•´ëŠ”<br/>â€œì²œê³µÂ·ì¸ì–‘Â·íƒ€ì„¤Â·ì¸ë°œâ€ì—ì„œ í„°ì§„ë‹¤</h1>
          <p class="lead">
            ì‘ì—…ê³„íš â†’ í†µì œ â†’ ì ê²€ â†’ TBM ìˆœì„œë¡œ ë°”ë¡œ ì“°ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
            í•µì‹¬ì€ <b>ì „ë„/ë¶•ê´´ ë°©ì§€</b>ì™€ <b>ë‚™í•˜Â·í˜‘ì°© í†µì œ</b>ì…ë‹ˆë‹¤.
          </p>

          <div class="hero-kpis">
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>ì „ë„Â·ë¶•ê´´</strong></div>
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>ë‚™í•˜Â·ë¹„ë˜</strong></div>
            <div class="kpi"><b>ì¤‘ì  ì¬í•´</b><strong>í˜‘ì°©Â·ë¼ì„</strong></div>
          </div>
        </div>

        <div class="hero-card">
          <h3 style="margin-top:0;">ğŸ¯ ì¦‰ì‹œ í†µì œ í¬ì¸íŠ¸</h3>
          <ul class="list">
            <li>ì²œê³µì¥ë¹„ ìœ„ì¹˜ ì§€ë°˜ë³´ê°•(ì² íŒ ë“±) + ì „ë„ìœ„í—˜ í†µì œ</li>
            <li>ì²œê³µê³µ ë®ê°œ/ë°©í˜¸(ì¶”ë½ ë°©ì§€) + ìŠ¬ë¼ì„ ê´€ë¦¬</li>
            <li>ì¸ì–‘ì€ ì²´ê²°ìƒíƒœ ì ê²€ + ë³´ì¡°ë¡œí”„(í”ë“¤ë¦¼Â·ì¶©ëŒ ë°©ì§€)</li>
            <li>ë ˆë¯¸ì½˜ í›„ì§„/êµ´ì‚­ê¸° ì‘ì—…ì€ ì‹ í˜¸ìˆ˜ ë°°ì¹˜</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- ê°œìš” -->
    <section id="overview">
      <div class="container">
        <div class="section-title">
          <h2>ê°œìš”</h2>
          <div class="hint">ëª©ì  Â· ì ìš©ë²”ìœ„ Â· ì •ì˜</div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>ëª©ì </h3>
            <p>ì•ˆì „ë³´ê±´ê·œì¹™(êµ´ì°©ì‘ì—… ë“±ì˜ ìœ„í—˜ë°©ì§€)ì— ë”°ë¼, C.I.P í™ë§‰ì´ê³µì‚¬ ì‘ì—…ê³¼ì •ì˜ ì•ˆì „ë³´ê±´ì‘ì—… ì§€ì¹¨ì„ ì •í•¨.</p>
          </div>
          <div class="card">
            <h3>ì ìš©ë²”ìœ„</h3>
            <p>ê±´ì„¤ê³µì‚¬ í˜„ì¥ì˜ <b>C.I.P í™ë§‰ì´ê³µì‚¬ ì‘ì—…</b> ì „ ê³µì •ì— ì ìš©.</p>
          </div>
          <div class="card">
            <h3>ì •ì˜(í•µì‹¬)</h3>
            <p>C.I.PëŠ” ì²œê³µ í›„ H-Pile/ì² ê·¼ë§ ì‚½ì…, ì½˜í¬ë¦¬íŠ¸/ëª¨ë¥´í„° íƒ€ì„¤ë¡œ ì£¼ì—´ì‹ í˜„ì¥íƒ€ì„¤ ë§ëšì„ í˜•ì„±í•˜ëŠ” ê³µë²•.</p>
          </div>
        </div>

        <div class="card">
          <h3>ì¼ë°˜ì‚¬í•­(ì‘ì—…ê³„íš í•„ìˆ˜ í¬í•¨)</h3>
          <ul class="list">
            <li>ë§¤ì„¤ë¬¼Â·ê°€ê³µë¬¼Â·ë„ë¡œêµ¬ì¡°ë¬¼Â·ì§€ë°˜Â·ë…¸ë©´êµí†µ ë“±ì„ ê³ ë ¤í•´ ì‘ì—…ê³„íš ìˆ˜ë¦½</li>
            <li>í™ë§‰ì´ êµ¬ì¡°ë¬¼ ì‹œê³µê³„íš(í† ì§ˆ, êµ´ì°©ê·œëª¨/ë°©ë²•, ì‹œê³µìˆœì„œ/ì‹œê°„ê°„ê²©, ì•ˆì •ì„± í™•ë³´)</li>
            <li>ë ì¥/ë²„íŒ€ë³´ ë¶€ì¬ê³„íš(ì¬ì§ˆÂ·ë°°ì¹˜Â·ì¹˜ìˆ˜Â·ì„¤ì¹˜ì‹œê¸°Â·ì‹œê³µìˆœì„œ/ë°©ë²•, ì¥ë¹„ê³„íš, ë°°ìˆ˜/ì•ˆì „ì‹œì„¤)</li>
            <li>í˜„ì¥ì¡°ê±´ ë¶ˆì¼ì¹˜ ì‹œ ì„¤ê³„ê²€í†  ë³´ê³ ì„œ ê¸°ë°˜ìœ¼ë¡œ ìŠ¹ì¸ëœ ìˆ˜ì •ë„ë©´/ê²€í† ì„œ ì ìš©</li>
            <li>ê³„ì¸¡ê³„íš(ìˆ˜ìœ„ê³„Â·ê²½ì‚¬ê³„Â·ì¹¨í•˜ê³„ ë“±) ë° êµí†µì²˜ë¦¬ê³„íš(êµí†µì•ˆì „ìš”ì› í¬í•¨)</li>
            <li>ì§€í•˜ìˆ˜ ìœ ì¶œÂ·ì¹¨í•˜Â·ë¶€ì¬ë³€í˜•Â·í’€ë¦¼ ìˆ˜ì‹œì ê²€, ì´ìƒ ì‹œ ì¦‰ì‹œ ë³´ê°•/ì•ˆì •ì„± ì¬ê²€í† </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ìœ„í—˜ìš”ì¸ -->
    <section id="risks">
      <div class="container">
        <div class="section-title">
          <h2>ì¤‘ì  ìœ„í—˜ìš”ì¸</h2>
          <div class="hint">ê²€ìƒ‰ Â· í•„í„°</div>
        </div>

        <div class="toolbar">
          <div class="inputs">
            <input class="input" id="q" placeholder="ê²€ìƒ‰ (ì˜ˆ: ì „ë„, ë®ê°œ, ìŠ¬ë¼ì„, ì²´ê²°, ë³´ì¡°ë¡œí”„, í›„ì§„, ë¶„ì§„, ê³„ì¸¡)">
            <select id="fStep">
              <option value="">ê³µì • ì „ì²´</option>
              <option value="ì¤€ë¹„/ì¤„íŒŒê¸°">ì¤€ë¹„/ì¤„íŒŒê¸°</option>
              <option value="ì²œê³µ/ì¼€ì´ì‹±">ì²œê³µ/ì¼€ì´ì‹±</option>
              <option value="H-Pile/ì² ê·¼ë§">H-Pile/ì² ê·¼ë§</option>
              <option value="íƒ€ì„¤/ì¸ë°œ">íƒ€ì„¤/ì¸ë°œ</option>
              <option value="ë‘ë¶€ì •ë¦¬/Cap">ë‘ë¶€ì •ë¦¬/Cap</option>
              <option value="ì¼ë°˜ì‚¬í•­">ì¼ë°˜ì‚¬í•­</option>
            </select>
            <select id="fEquip">
              <option value="">ì¥ë¹„ ì „ì²´</option>
              <option value="ì²œê³µì¥ë¹„">ì²œê³µì¥ë¹„</option>
              <option value="í¬ë ˆì¸">í¬ë ˆì¸/ì¸ì–‘</option>
              <option value="ë ˆë¯¸ì½˜">ë ˆë¯¸ì½˜ íŠ¸ëŸ­</option>
              <option value="êµ´ì‚­ê¸°">êµ´ì‚­ê¸°</option>
              <option value="ì¼€ì´ì‹±">ì¼€ì´ì‹±</option>
              <option value="ê³„ì¸¡">ê³„ì¸¡/ì¸¡ëŸ‰</option>
            </select>
            <select id="fType">
              <option value="">ì¬í•´ìœ í˜• ì „ì²´</option>
              <option value="ì „ë„/ë¶•ê´´">ì „ë„/ë¶•ê´´</option>
              <option value="ì¶”ë½">ì¶”ë½</option>
              <option value="ë‚™í•˜/ë¹„ë˜">ë‚™í•˜/ë¹„ë˜</option>
              <option value="í˜‘ì°©/ë¼ì„">í˜‘ì°©/ë¼ì„</option>
              <option value="ë¶„ì§„/ì†ŒìŒ">ë¶„ì§„/ì†ŒìŒ</option>
              <option value="êµí†µ">êµí†µ</option>
            </select>
          </div>
          <div class="mini-actions">
            <button class="btn" id="resetRisk">ì´ˆê¸°í™”</button>
          </div>
        </div>

        <div class="table-wrap" style="margin-top:12px;">
          <table id="riskTable">
            <thead>
              <tr>
                <th style="width:130px;">ì¬í•´ìœ í˜•</th>
                <th style="width:150px;">ê³µì •</th>
                <th style="width:160px;">ì¥ë¹„</th>
                <th>ìœ„í—˜ìš”ì¸</th>
                <th>í•µì‹¬ ëŒ€ì±…(ì§€ì¹¨ ê¸°ë°˜)</th>
              </tr>
            </thead>
            <tbody>
              <tr data-step="ì¼ë°˜ì‚¬í•­" data-equip="ê³„ì¸¡" data-type="ì „ë„/ë¶•ê´´">
                <td><span class="tag">ì „ë„/ë¶•ê´´</span></td>
                <td>ì¼ë°˜ì‚¬í•­</td>
                <td>ê³„ì¸¡/í˜„ì¥ê´€ë¦¬</td>
                <td>ì§€ë°˜ ì´ì™„Â·ì¹¨í•˜, ë¶€ì¬ ë³€í˜•/í’€ë¦¼ ë°©ì¹˜</td>
                <td>ìˆ˜ì‹œ ì ê²€, ì´ìƒ ì‹œ ì¦‰ì‹œ ë³´ê°• + ì•ˆì •ì„± ì¶”ê°€ ê²€í†  + ê³„ì¸¡ê³„íš ìš´ì˜</td>
              </tr>

              <tr data-step="ì¤€ë¹„/ì¤„íŒŒê¸°" data-equip="ê³„ì¸¡" data-type="êµí†µ">
                <td><span class="tag">êµí†µ</span></td>
                <td>ì¤€ë¹„/ì¤„íŒŒê¸°</td>
                <td>êµí†µì²˜ë¦¬</td>
                <td>ì¤„íŒŒê¸°/ì‹œí—˜êµ´ì°© ì¤‘ êµí†µ í˜¼ì¬</td>
                <td>ê°€ì„¤ ìš¸íƒ€ë¦¬ ì„¤ì¹˜, ì†Œì • ë²”ìœ„ ë°– ì‘ì—… í›„ ì¦‰ì‹œ ë³µêµ¬Â·ë…¸ë©´ ìœ ì§€ë³´ìˆ˜</td>
              </tr>

              <tr data-step="ì¤€ë¹„/ì¤„íŒŒê¸°" data-equip="ê³„ì¸¡" data-type="ì „ë„/ë¶•ê´´">
                <td><span class="tag">ì „ë„/ë¶•ê´´</span></td>
                <td>ì¤€ë¹„/ì¤„íŒŒê¸°</td>
                <td>ì§€í•˜ë§¤ì„¤ë¬¼</td>
                <td>ë§¤ì„¤ë¬¼ ì†ìƒ/ëˆ„ìˆ˜ë¡œ ì¸í•œ 2ì°¨ ìœ„í—˜</td>
                <td>2m ì´ìƒ ë˜ëŠ” ë§¤ì„¤ë¬¼ ì‹¬ë„ ì´ìƒ ì¤„íŒŒê¸° í›„ ìœ„ì¹˜ í™•ì¸, í›¼ì† ì‹œ ì‘ê¸‰ì¡°ì¹˜Â·í†µë³´</td>
              </tr>

              <tr data-step="ì²œê³µ/ì¼€ì´ì‹±" data-equip="ì²œê³µì¥ë¹„" data-type="ì „ë„/ë¶•ê´´">
                <td><span class="tag">ì „ë„/ë¶•ê´´</span></td>
                <td>ì²œê³µ/ì¼€ì´ì‹±</td>
                <td>ì²œê³µì¥ë¹„</td>
                <td>ì²œê³µì¥ë¹„ ì „ë„ / ë§¤ì„¤ë¬¼ ë³´í˜¸ ì‹¤íŒ¨</td>
                <td>ì¥ë¹„ ìœ„ì¹˜ ì§€ë°˜ë³´ê°•(ì² íŒ ë“±) + í˜„ì¥ì— ì í•©í•œ ì¥ë¹„ ì„ ì • + ìˆ˜ì§ë„ ê´€ë¦¬</td>
              </tr>

              <tr data-step="ì²œê³µ/ì¼€ì´ì‹±" data-equip="ì²œê³µì¥ë¹„" data-type="ë¶„ì§„/ì†ŒìŒ">
                <td><span class="tag">ë¶„ì§„/ì†ŒìŒ</span></td>
                <td>ì²œê³µ/ì¼€ì´ì‹±</td>
                <td>ì²œê³µì¥ë¹„</td>
                <td>í† ì‚¬ ë¹„ì‚°, ë¶„ì§„Â·ì†ŒìŒ ë…¸ì¶œ</td>
                <td>í† ì¶œêµ¬ ê°€ë¦¼ë§‰ ë“± ë¹„ì‚°ë°©ì§€, ê·€ë§ˆê°œÂ·ë°©ì§„ë§ˆìŠ¤í¬ ì°©ìš©</td>
              </tr>

              <tr data-step="ì²œê³µ/ì¼€ì´ì‹±" data-equip="ì²œê³µì¥ë¹„" data-type="ì¶”ë½">
                <td><span class="tag">ì¶”ë½</span></td>
                <td>ì²œê³µ/ì¼€ì´ì‹±</td>
                <td>ì²œê³µê³µ</td>
                <td>ì²œê³µê³µ ì¶”ë½</td>
                <td>ìŠ¬ë¼ì„ ì œê±°/ì‹¬ë„ í™•ì¸ í›„ ë®ê°œ ì„¤ì¹˜ ë“± ë°©í˜¸ì¡°ì¹˜</td>
              </tr>

              <tr data-step="ì²œê³µ/ì¼€ì´ì‹±" data-equip="ì²œê³µì¥ë¹„" data-type="ì „ë„/ë¶•ê´´">
                <td><span class="tag">ì „ë„/ë¶•ê´´</span></td>
                <td>ì²œê³µ/ì¼€ì´ì‹±</td>
                <td>ì§€ë°˜/ì§€í•˜ìˆ˜</td>
                <td>ì„¤ê³„ ì§€ë°˜ì¡°ê±´ê³¼ ì°¨ì´ â†’ ì£¼ë³€ ì¹¨í•˜/ë¶•ê´´ ìœ„í—˜</td>
                <td>ì°¨ì´ í¬ë©´ ì‘ì—… ì¤‘ì§€ í›„ ì‹¬ë„ ì¬ê²€í† (ì „ë¬¸ê°€ ìë¬¸), ì¶©ë¶„í•œ ê¹Šì´ í™•ë³´</td>
              </tr>

              <tr data-step="H-Pile/ì² ê·¼ë§" data-equip="í¬ë ˆì¸" data-type="ë‚™í•˜/ë¹„ë˜">
                <td><span class="tag">ë‚™í•˜/ë¹„ë˜</span></td>
                <td>H-Pile/ì² ê·¼ë§</td>
                <td>í¬ë ˆì¸/ì¸ì–‘</td>
                <td>ì¸ì–‘ ì¤‘ ë‚™í•˜, ë¹„í‹€ë¦¼Â·ë³€í˜•</td>
                <td>ì²´ê²°ìƒíƒœ ì ê²€(ì™€ì´ì–´/ìƒ¤í´), ì ‘í•©ë¶€ ê²°ì†Â·ê³ ë¦¬ ë³´ê°•, ë³´ì¡°ë¡œí”„ ì‚¬ìš©</td>
              </tr>

              <tr data-step="H-Pile/ì² ê·¼ë§" data-equip="í¬ë ˆì¸" data-type="í˜‘ì°©/ë¼ì„">
                <td><span class="tag">í˜‘ì°©/ë¼ì„</span></td>
                <td>H-Pile/ì² ê·¼ë§</td>
                <td>ì¸ì–‘/ì‚½ì…</td>
                <td>í”ë“¤ë¦¼ ì¶©ëŒ, ì‚½ì… ì¤‘ ê±¸ë¦¼</td>
                <td>ë³´ì¡°ë¡œí”„ í”ë“¤ë¦¼ ë°©ì§€, ìˆ˜ì§ë„ ìœ ì§€í•˜ë©° ì„œì„œíˆ ì‚½ì…, ê³µë²½ ë¶•ê´´ ë°©ì§€</td>
              </tr>

              <tr data-step="íƒ€ì„¤/ì¸ë°œ" data-equip="ë ˆë¯¸ì½˜" data-type="í˜‘ì°©/ë¼ì„">
                <td><span class="tag">í˜‘ì°©/ë¼ì„</span></td>
                <td>íƒ€ì„¤/ì¸ë°œ</td>
                <td>ë ˆë¯¸ì½˜ íŠ¸ëŸ­</td>
                <td>ë ˆë¯¸ì½˜ í›„ì§„ ì¤‘ í˜‘ì°©</td>
                <td>ì‹ í˜¸ìˆ˜ ë°°ì¹˜ í›„ ì‹ í˜¸ì— ë”°ë¼ ì‘ì—…</td>
              </tr>

              <tr data-step="íƒ€ì„¤/ì¸ë°œ" data-equip="ì¼€ì´ì‹±" data-type="ì „ë„/ë¶•ê´´">
                <td><span class="tag">ì „ë„/ë¶•ê´´</span></td>
                <td>íƒ€ì„¤/ì¸ë°œ</td>
                <td>ì¼€ì´ì‹±</td>
                <td>ì¼€ì´ì‹± ì¸ë°œ ì†ë„ ê³¼ë‹¤ë¡œ H-Pile ë³€í˜•</td>
                <td>íƒ€ì„¤ ì™„ë£Œ í›„ ì¸ë°œ, ì¸ë°œì†ë„ ìµœëŒ€í•œ ì²œì²œíˆ, í•˜ë‹¨ ë³´ì¡°ë¡œí”„ë¡œ ì „ë„ ë°©ì§€</td>
              </tr>

              <tr data-step="ë‘ë¶€ì •ë¦¬/Cap" data-equip="êµ´ì‚­ê¸°" data-type="í˜‘ì°©/ë¼ì„">
                <td><span class="tag">í˜‘ì°©/ë¼ì„</span></td>
                <td>ë‘ë¶€ì •ë¦¬/Cap</td>
                <td>êµ´ì‚­ê¸°</td>
                <td>ë§ëš ì£¼ë³€ êµ´ì°© ì‹œ êµ´ì‚­ê¸° í›„ë©´ í˜‘ì°©</td>
                <td>ì‹ í˜¸ìˆ˜ ë°°ì¹˜ í›„ ì‹ í˜¸ì— ë”°ë¼ ì‘ì—…</td>
              </tr>

              <tr data-step="ë‘ë¶€ì •ë¦¬/Cap" data-equip="ê³„ì¸¡" data-type="ì¶”ë½">
                <td><span class="tag">ì¶”ë½</span></td>
                <td>ë‘ë¶€ì •ë¦¬/Cap</td>
                <td>ìƒë‹¨ë¶€</td>
                <td>í™ë§‰ì´ ë²½ ìƒë‹¨ ì¶”ë½</td>
                <td>Cap íƒ€ì„¤ ì „ ì•ˆì „ë‚œê°„ ì§€ì£¼ë¥¼ ë¯¸ë¦¬ ì„¤ì¹˜í•˜ì—¬ ì¶”ë½ë°©ì§€</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- SOP -->
    <section id="sop">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—… ì ˆì°¨(SOP)</h2>
          <div class="hint">ì „ Â· ì¤‘ Â· í›„ (í˜„ì¥ìš© ìš”ì•½)</div>
        </div>

        <div class="steps">
          <div class="step">
            <div class="no">1</div>
            <h3>ì‘ì—… ì „</h3>
            <ul class="list">
              <li>ì‘ì—…ê³„íš ìˆ˜ë¦½(ë§¤ì„¤ë¬¼/êµí†µ/ì¥ë¹„/ê³µì •/ê³„ì¸¡ í¬í•¨)</li>
              <li>2m ì´ìƒ ë˜ëŠ” ë§¤ì„¤ë¬¼ ì‹¬ë„ ì´ìƒ ì¤„íŒŒê¸° í›„ ìœ„ì¹˜ í™•ì¸</li>
              <li>ì²œê³µì¥ë¹„ ìœ„ì¹˜ ì§€ë°˜ë³´ê°•(ì² íŒ ë“±) ë° ì „ë„ ìœ„í—˜ í†µì œ</li>
              <li>ìœ ë„ì/ì‹ í˜¸ìˆ˜ ë°°ì¹˜ ê³„íš(í›„ì§„Â·ì¸ì–‘Â·êµ´ì‚­ê¸° ì‘ì—…)</li>
            </ul>
          </div>
          <div class="step">
            <div class="no">2</div>
            <h3>ì‘ì—… ì¤‘</h3>
            <ul class="list">
              <li>ì²œê³µ ì‹¬ë„Â·ìˆ˜ì§ë„ ê´€ë¦¬, í† ì‚¬ ë¹„ì‚° ë°©ì§€(ê°€ë¦¼ë§‰) + PPE ì°©ìš©</li>
              <li>ì²œê³µê³µì€ ë®ê°œ ì„¤ì¹˜(ì¶”ë½ë°©ì§€), ìŠ¬ë¼ì„ ì¦‰ì‹œ ì²˜ë¦¬Â·ì¹¨ì‚¬ì§€ ìš´ì˜</li>
              <li>ì¸ì–‘ ì „ ì²´ê²°ìƒíƒœ ì ê²€, ë³´ì¡°ë¡œí”„ë¡œ í”ë“¤ë¦¼/ì¶©ëŒ ë°©ì§€</li>
              <li>ë ˆë¯¸ì½˜ í›„ì§„Â·êµ´ì‚­ê¸° ì‘ì—…ì€ ì‹ í˜¸ìˆ˜ ì§€ì‹œë¡œë§Œ ì§„í–‰</li>
            </ul>
          </div>
          <div class="step">
            <div class="no">3</div>
            <h3>ì‘ì—… ì¢…ë£Œ</h3>
            <ul class="list">
              <li>ì¼€ì´ì‹± ì¸ë°œì€ ì²œì²œíˆ, ì´ë™Â·ì ì¬ ì‹œ ì „ë„ ë°©ì§€ ë³´ì¡°ë¡œí”„ ì ìš©</li>
              <li>ì£¼ë³€ ì •ë¦¬ì •ëˆ ë° ì˜¤ì—¼/ìŠ¬ë¼ì„ ì²˜ë¦¬(í•˜ìˆ˜ê´€ ìœ ì… ì°¨ë‹¨)</li>
              <li>ë¶€ì¬ ë³€í˜•/ì—°ê²°ë¶€ í’€ë¦¼/ì¹¨í•˜ ì´ìƒ ìœ ë¬´ ì ê²€ í›„ ê¸°ë¡</li>
            </ul>
          </div>
        </div>

        <div class="card" style="margin-top:14px;">
          <h3>ê³µì •ë³„ í•µì‹¬ í¬ì¸íŠ¸(í˜„ì¥ ì²´í¬ìš©)</h3>
          <div class="grid" style="grid-template-columns:repeat(2,1fr);">
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">ì¤€ë¹„Â·ì¤„íŒŒê¸°</h3>
              <ul class="list">
                <li>ìœ„í—˜ìš”ì†Œ ìœ„ì¹˜ì— ì•ˆì „í‘œì§€Â·ì°¨ë‹¨ê¸°Â·ì¡°ëª…Â·ê²½ê³ ì‹ í˜¸ ì„¤ì¹˜</li>
                <li>ê°€ì„¤ ìš¸íƒ€ë¦¬ë¡œ ë³´í–‰ì ë™ì„  ë¶„ë¦¬</li>
                <li>ì‘ì—… í›„ ì¦‰ì‹œ ë³µêµ¬, êµí†µì†Œí†µ ì§€ì¥ ìµœì†Œí™”</li>
              </ul>
            </div>
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">ì²œê³µÂ·ì¼€ì´ì‹±</h3>
              <ul class="list">
                <li>ì„¤ê³„ ì§€ì¸µ/ì§€í•˜ìˆ˜ì™€ ì°¨ì´ ì‹œ ì‘ì—… ì¤‘ì§€ í›„ ì¬ê²€í† </li>
                <li>í† ì‚¬ ë¹„ì‚° ë°©ì§€(ê°€ë¦¼ë§‰), ë¶„ì§„/ì†ŒìŒ PPE ì°©ìš©</li>
                <li>ì²œê³µê³µ ë®ê°œ ì„¤ì¹˜(ì¶”ë½ë°©ì§€) + ìŠ¬ë¼ì„ ê´€ë¦¬</li>
              </ul>
            </div>
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">H-PileÂ·ì² ê·¼ë§ ì‚½ì…</h3>
              <ul class="list">
                <li>ì¸ì–‘ ì „ ì²´ê²°ìƒíƒœ ì ê²€(ì™€ì´ì–´/ìƒ¤í´ ë“±)</li>
                <li>ë³´ì¡°ë¡œí”„ ì‚¬ìš©(í”ë“¤ë¦¼Â·ì¶©ëŒ ë°©ì§€)</li>
                <li>ìˆ˜ì§ ìœ ì§€í•˜ë©° ì„œì„œíˆ ì‚½ì…(ê³µë²½ ë¶•ê´´ ë°©ì§€)</li>
              </ul>
            </div>
            <div class="card" style="box-shadow:none; margin:0;">
              <h3 style="margin-top:0;">íƒ€ì„¤Â·ì¸ë°œÂ·ë‘ë¶€ì •ë¦¬</h3>
              <ul class="list">
                <li>íŠ¸ë ˆë¯¸ê´€ìœ¼ë¡œ ì—°ì† íƒ€ì„¤(ê´€ ì ‘í•©ë¶€ í„°ì§/ë¹„ë˜ ì£¼ì˜)</li>
                <li>ë ˆë¯¸ì½˜ í›„ì§„/êµ´ì‚­ê¸° ì‘ì—… ì‹œ ì‹ í˜¸ìˆ˜ ë°°ì¹˜</li>
                <li>ìƒë‹¨ ì¶”ë½ë°©ì§€: Cap íƒ€ì„¤ ì „ ë‚œê°„ ì§€ì£¼ ì„ ì„¤ì¹˜</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ì ê²€ -->
    <section id="check">
      <div class="container">
        <div class="section-title">
          <h2>ì¼ì¼ ì•ˆì „ì ê²€</h2>
          <div class="hint">ì €ì¥ Â· ì§„í–‰ë¥  Â· ë³µì‚¬</div>
        </div>

        <div class="checklist">
          <div class="toolbar" style="margin-bottom:10px;">
            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <div class="hint" id="progressText">0 / 0 ì™„ë£Œ</div>
            </div>
            <div class="mini-actions">
              <button class="btn" id="clearChecklist">ì´ˆê¸°í™”</button>
              <button class="btn primary" id="copyChecklist">ì ê²€ê²°ê³¼ ë³µì‚¬</button>
            </div>
          </div>

          <div class="progress"><div class="bar" id="bar"></div></div>
          <div class="cl-grid" id="clGrid"></div>
        </div>
      </div>
    </section>

    <!-- TBM -->
    <section id="tbm">
      <div class="container">
        <div class="section-title">
          <h2>ì‘ì—… ì „ TBM (10ì´ˆ)</h2>
          <div class="hint">í˜¼í•© ë¶„ê¸°: ê³µì • + ì¥ë¹„ + íŠ¹ì´ì¡°ê±´</div>
        </div>

        <div class="card">
          <div class="toolbar">
            <div class="inputs">
              <input class="input" id="tbmSite" placeholder="í˜„ì¥ëª… (ì˜ˆ: â—‹â—‹í˜„ì¥)">
              <select id="tbmStep">
                <option value="ì¤€ë¹„/ì¤„íŒŒê¸°">ê³µì •: ì¤€ë¹„/ì¤„íŒŒê¸°</option>
                <option value="ì²œê³µ/ì¼€ì´ì‹±">ê³µì •: ì²œê³µ/ì¼€ì´ì‹±</option>
                <option value="H-Pile/ì² ê·¼ë§">ê³µì •: H-Pile/ì² ê·¼ë§ ì‚½ì…</option>
                <option value="íƒ€ì„¤/ì¸ë°œ">ê³µì •: ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤/ì¼€ì´ì‹± ì¸ë°œ</option>
                <option value="ë‘ë¶€ì •ë¦¬/Cap">ê³µì •: ë‘ë¶€ì •ë¦¬/Cap íƒ€ì„¤</option>
              </select>
              <select id="tbmEquip">
                <option value="ì²œê³µì¥ë¹„">ì¥ë¹„: ì²œê³µì¥ë¹„</option>
                <option value="í¬ë ˆì¸">ì¥ë¹„: í¬ë ˆì¸/ì¸ì–‘</option>
                <option value="ë ˆë¯¸ì½˜">ì¥ë¹„: ë ˆë¯¸ì½˜ íŠ¸ëŸ­</option>
                <option value="êµ´ì‚­ê¸°">ì¥ë¹„: êµ´ì‚­ê¸°</option>
                <option value="ì¼€ì´ì‹±">ì¥ë¹„: ì¼€ì´ì‹±</option>
                <option value="ê³„ì¸¡">ì¥ë¹„: ê³„ì¸¡/ì¸¡ëŸ‰</option>
              </select>
              <select id="tbmCond">
                <option value="">íŠ¹ì´ì¡°ê±´: ì—†ìŒ</option>
                <option value="ë§¤ì„¤ë¬¼">íŠ¹ì´ì¡°ê±´: ì§€í•˜ë§¤ì„¤ë¬¼(ê°€ìŠ¤/ìƒí•˜ìˆ˜/í†µì‹ )</option>
                <option value="ì§€í•˜ìˆ˜/ìŠ¬ë¼ì„">íŠ¹ì´ì¡°ê±´: ì§€í•˜ìˆ˜/ìŠ¬ë¼ì„ ë‹¤ëŸ‰</option>
                <option value="êµí†µí˜¼ì¬">íŠ¹ì´ì¡°ê±´: êµí†µí˜¼ì¬(ì°¨ë„/ë³´í–‰)</option>
                <option value="ì¸ì–‘ê·¼ì ‘">íŠ¹ì´ì¡°ê±´: ì¸ì–‘ ê·¼ì ‘ì‘ì—…(í˜‘ì°© ìœ„í—˜)</option>
                <option value="ì•¼ê°„">íŠ¹ì´ì¡°ê±´: ì•¼ê°„ì‘ì—…</option>
              </select>
            </div>
            <div class="mini-actions">
              <button class="btn primary" id="genTBM">TBM ìƒì„±</button>
              <button class="btn" id="copyTBM">TBM ë³µì‚¬</button>
            </div>
          </div>

          <textarea id="tbmOut" rows="8" placeholder="TBM ë¬¸êµ¬ê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤."></textarea>
        </div>
      </div>
    </section>

    <section>
      <div class="container">
        <div class="card">
          <h3>í˜„ì¥ ìš´ì˜ íŒ</h3>
          <ul class="list">
            <li>ì˜¤ëŠ˜ ê³µì • ì‹œì‘ ì „ â€œì¶”ë½/ë‚™í•˜/í˜‘ì°©â€ ì¤‘ 1ê°œë¥¼ <b>ìµœìš°ì„  í†µì œ</b>ë¡œ ì§€ì •(ì˜ˆ: ì²œê³µê³µ ë®ê°œ 100%).</li>
            <li>ì¸ì–‘ì€ â€œì²´ê²° í™•ì¸ â†’ ë³´ì¡°ë¡œí”„ â†’ ì„œì„œíˆ ì‚½ì…â€ì„ TBMì—ì„œ ë°˜ë“œì‹œ í•œ ë²ˆ ë§í•˜ê¸°.</li>
            <li>ë ˆë¯¸ì½˜ í›„ì§„/êµ´ì‚­ê¸° ì‘ì—…ì€ ì‹ í˜¸ìˆ˜ ì—†ìœ¼ë©´ <b>ì‘ì—… ê¸ˆì§€</b>ë¡œ í†µì¼.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <script>
    /* ================= Theme ================= */
    const root = document.documentElement;
    const THEME_KEY = "cip_theme_v4";
    const savedTheme = localStorage.getItem(THEME_KEY);
    if(savedTheme === "dark") root.setAttribute("data-theme","dark");
    document.getElementById("themeBtn").addEventListener("click", ()=>{
      const isDark = root.getAttribute("data-theme")==="dark";
      if(isDark){ root.removeAttribute("data-theme"); localStorage.setItem(THEME_KEY,"light"); }
      else { root.setAttribute("data-theme","dark"); localStorage.setItem(THEME_KEY,"dark"); }
    });

    /* ================= Risk filtering ================= */
    const qEl = document.getElementById("q");
    const fStep = document.getElementById("fStep");
    const fEquip = document.getElementById("fEquip");
    const fType = document.getElementById("fType");
    const rows = Array.from(document.querySelectorAll("#riskTable tbody tr"));

    function applyRiskFilter(){
      const q = (qEl.value || "").trim();
      const step = fStep.value;
      const equip = fEquip.value;
      const type = fType.value;

      rows.forEach(tr=>{
        const okQ = !q || tr.innerText.includes(q);
        const okS = !step || tr.dataset.step === step;
        const okE = !equip || tr.dataset.equip === equip || tr.innerText.includes(equip);
        const okT = !type || tr.dataset.type === type || tr.innerText.includes(type);
        tr.style.display = (okQ && okS && okE && okT) ? "" : "none";
      });
    }

    [qEl,fStep,fEquip,fType].forEach(el=>el.addEventListener("input", applyRiskFilter));
    document.getElementById("resetRisk").addEventListener("click", ()=>{
      qEl.value=""; fStep.value=""; fEquip.value=""; fType.value="";
      applyRiskFilter();
    });

    /* ================= Checklist (localStorage) ================= */
    const CL_KEY = "cip_check_v4";
    const checklistItems = [
      { t:"ì‘ì—…ê³„íš/ìŠ¹ì¸", d:"í˜„ì¥ì¡°ê±´ ë°˜ì˜ ì‘ì—…ê³„íš(ë§¤ì„¤ë¬¼Â·êµí†µÂ·ì¥ë¹„Â·ê³µì •Â·ê³„ì¸¡) ìˆ˜ë¦½ ë° ìŠ¹ì¸ í™•ì¸" },
      { t:"ì¤„íŒŒê¸°/ë§¤ì„¤ë¬¼ í™•ì¸", d:"2m ì´ìƒ ë˜ëŠ” ë§¤ì„¤ë¬¼ ì‹¬ë„ ì´ìƒ ì¤„íŒŒê¸°, ìœ„ì¹˜ í™•ì¸ ë° ë³´í˜¸ëŒ€ì±…" },
      { t:"ì§€ë°˜ë³´ê°•(ì „ë„ë°©ì§€)", d:"ì²œê³µì¥ë¹„ ìœ„ì¹˜ ì§€ë°˜ë³´ê°•(ì² íŒ ë“±) ë° ì „ë„ ìœ„í—˜ í†µì œ" },
      { t:"ì²œê³µì‹¬ë„/ìˆ˜ì§ë„", d:"ì„¤ê³„ê¹Šì´ ì´ìƒ í™•ë³´, ìˆ˜ì§ë„(ì¥ë¹„ ê²½ì‚¬ê³„/íŠ¸ëœì‹¯ ë“±) ê´€ë¦¬" },
      { t:"ë¹„ì‚°Â·ë¶„ì§„Â·ì†ŒìŒ", d:"í† ì¶œêµ¬ ê°€ë¦¼ë§‰ ë“± ë¹„ì‚°ë°©ì§€, ê·€ë§ˆê°œ/ë°©ì§„ë§ˆìŠ¤í¬ ì°©ìš©" },
      { t:"ì²œê³µê³µ ë®ê°œ", d:"ì¶”ë½ ë°©ì§€: ì²œê³µê³µ ë®ê°œ ì„¤ì¹˜ ë° ë°©í˜¸ì¡°ì¹˜" },
      { t:"ìŠ¬ë¼ì„/ì¹¨ì‚¬ì§€", d:"ìŠ¬ë¼ì„ ì¦‰ì‹œ ì²˜ë¦¬, ë‹¤ëŸ‰ ë°œìƒ ì‹œ ì¹¨ì‚¬ì§€ ì„¤ì¹˜(í•˜ìˆ˜ê´€ ìœ ì… ë°©ì§€)" },
      { t:"ì¸ì–‘ ì²´ê²°ì ê²€", d:"ì™€ì´ì–´Â·ìƒ¤í´Â·ê³ ë¦¬ ì²´ê²°ìƒíƒœ ì ê²€, ì ‘í•©ë¶€ ê²°ì†/ë³´ê°•" },
      { t:"ë³´ì¡°ë¡œí”„", d:"H-Pile/ì² ê·¼ë§/ì¼€ì´ì‹± ì¸ì–‘ ì‹œ ë³´ì¡°ë¡œí”„ë¡œ í”ë“¤ë¦¼Â·ì¶©ëŒÂ·ì „ë„ ë°©ì§€" },
      { t:"ë ˆë¯¸ì½˜/êµ´ì‚­ê¸° ì‹ í˜¸ìˆ˜", d:"ë ˆë¯¸ì½˜ í›„ì§„Â·êµ´ì‚­ê¸° ì‘ì—…ì€ ì‹ í˜¸ìˆ˜ ë°°ì¹˜ í›„ ì‹ í˜¸ì— ë”°ë¼ ì‘ì—…" },
      { t:"ì¼€ì´ì‹± ì¸ë°œ", d:"ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ì™„ë£Œ í›„ ì¸ë°œ, ì¸ë°œì†ë„ëŠ” ìµœëŒ€í•œ ì²œì²œíˆ(ë³€í˜• ë°©ì§€)" },
      { t:"ìƒë‹¨ ì¶”ë½ë°©ì§€", d:"Cap íƒ€ì„¤ ì „ ì•ˆì „ë‚œê°„ ì§€ì£¼ ì„ ì„¤ì¹˜ ë“± ì¶”ë½ë°©ì§€ ì¡°ì¹˜" },
    ];

    const clGrid = document.getElementById("clGrid");
    const bar = document.getElementById("bar");
    const progressText = document.getElementById("progressText");

    function loadChecklistState(){
      try { return JSON.parse(localStorage.getItem(CL_KEY) || "[]"); }
      catch(e){ return []; }
    }
    function saveChecklistState(state){ localStorage.setItem(CL_KEY, JSON.stringify(state)); }

    function renderChecklist(){
      const state = loadChecklistState();
      clGrid.innerHTML = "";
      checklistItems.forEach((it, idx)=>{
        const checked = state.includes(idx);
        const el = document.createElement("label");
        el.className = "cl-item";
        el.innerHTML = `
          <input type="checkbox" data-idx="${idx}" ${checked ? "checked":""} />
          <div>
            <b>${it.t}</b>
            <span>${it.d}</span>
          </div>
        `;
        clGrid.appendChild(el);
      });

      clGrid.querySelectorAll("input[type=checkbox]").forEach(cb=>{
        cb.addEventListener("change", ()=>{
          const idx = Number(cb.dataset.idx);
          let st = loadChecklistState();
          if(cb.checked){ if(!st.includes(idx)) st.push(idx); }
          else { st = st.filter(x=>x!==idx); }
          saveChecklistState(st);
          updateProgress();
        });
      });

      updateProgress();
    }

    function updateProgress(){
      const st = loadChecklistState();
      const done = st.length;
      const total = checklistItems.length;
      const pct = total ? Math.round(done/total*100) : 0;
      bar.style.width = pct + "%";
      progressText.textContent = `${done} / ${total} ì™„ë£Œ (${pct}%)`;
    }

    document.getElementById("clearChecklist").addEventListener("click", ()=>{
      localStorage.removeItem(CL_KEY);
      renderChecklist();
    });

    document.getElementById("copyChecklist").addEventListener("click", async ()=>{
      const st = loadChecklistState();
      const done = st.map(i=>`[âœ“] ${checklistItems[i].t} - ${checklistItems[i].d}`);
      const notDone = checklistItems
        .map((it,i)=>({it,i}))
        .filter(x=>!st.includes(x.i))
        .map(x=>`[ ] ${x.it.t} - ${x.it.d}`);

      const text =
`[CIP ì¼ì¼ì ê²€]
- ì™„ë£Œ: ${st.length}/${checklistItems.length}

âœ… ì™„ë£Œ í•­ëª©
${done.length ? done.join("\n") : "(ì—†ìŒ)"}

â¬œ ë¯¸ì™„ë£Œ í•­ëª©
${notDone.length ? notDone.join("\n") : "(ì—†ìŒ)"}
`;
      try{
        await navigator.clipboard.writeText(text);
        alert("ì ê²€ê²°ê³¼ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.");
      }catch(e){
        prompt("ë³µì‚¬ê°€ ì°¨ë‹¨ë˜ì–´ ìˆ˜ë™ ë³µì‚¬í•˜ì„¸ìš”.", text);
      }
    });

    renderChecklist();

    /* ================= TBM (mixed: step+equip+condition) ================= */
    const tbmSite = document.getElementById("tbmSite");
    const tbmStep = document.getElementById("tbmStep");
    const tbmEquip = document.getElementById("tbmEquip");
    const tbmCond = document.getElementById("tbmCond");
    const tbmOut = document.getElementById("tbmOut");

    function tbmFocus(step, equip){
      const base = [];

      // ê³µì • í•µì‹¬
      if(step==="ì¤€ë¹„/ì¤„íŒŒê¸°"){
        base.push("ë§¤ì„¤ë¬¼ ì†ìƒê³¼ êµí†µí˜¼ì¬ ìœ„í—˜ì´ ìˆìœ¼ë‹ˆ ì¤„íŒŒê¸° ë²”ìœ„ë¥¼ ìµœì†Œí™”í•˜ê³  ê°€ì„¤ìš¸íƒ€ë¦¬ë¡œ ë³´í–‰ìë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤.");
        base.push("ë§¤ì„¤ë¬¼ í›¼ì†/ëˆ„ìˆ˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‘ê¸‰ì¡°ì¹˜ í›„ ê°ë…ìì—ê²Œ í†µë³´í•©ë‹ˆë‹¤.");
      }
      if(step==="ì²œê³µ/ì¼€ì´ì‹±"){
        base.push("ì²œê³µì¥ë¹„ ì „ë„ ë° ì²œê³µê³µ ì¶”ë½ ìœ„í—˜ì´ ìˆìœ¼ë‹ˆ ì§€ë°˜ë³´ê°•(ì² íŒ ë“±)ê³¼ ë®ê°œ ì„¤ì¹˜ë¥¼ ì² ì €íˆ í•©ë‹ˆë‹¤.");
        base.push("ì„¤ê³„ ì§€ë°˜ì¡°ê±´ê³¼ ì°¨ì´ê°€ í¬ë©´ ì‘ì—…ì„ ì¤‘ì§€í•˜ê³  ê´€ê³„ì „ë¬¸ê°€ ìë¬¸ í›„ ì‹¬ë„ë¥¼ ì¬ê²€í† í•©ë‹ˆë‹¤.");
      }
      if(step==="H-Pile/ì² ê·¼ë§"){
        base.push("ì¸ì–‘ ì¤‘ ë‚™í•˜Â·í˜‘ì°© ìœ„í—˜ì´ í¬ë‹ˆ ì²´ê²°ìƒíƒœ í™•ì¸ í›„ ë³´ì¡°ë¡œí”„ë¡œ í”ë“¤ë¦¼ì„ í†µì œí•©ë‹ˆë‹¤.");
        base.push("ìˆ˜ì§ë„ë¥¼ ìœ ì§€í•˜ë©° ì„œì„œíˆ ì‚½ì…í•˜ì—¬ ê³µë²½ ë¶•ê´´ì™€ ê±¸ë¦¼ì„ ë°©ì§€í•©ë‹ˆë‹¤.");
      }
      if(step==="íƒ€ì„¤/ì¸ë°œ"){
        base.push("íƒ€ì„¤ì€ íŠ¸ë ˆë¯¸ê´€ìœ¼ë¡œ ì—°ì† íƒ€ì„¤í•˜ê³  ê´€ ì ‘í•©ë¶€ í„°ì§/ë¹„ë˜ ìœ„í—˜ì„ í†µì œí•©ë‹ˆë‹¤.");
        base.push("ì¼€ì´ì‹± ì¸ë°œì€ ìµœëŒ€í•œ ì²œì²œíˆ í•˜ë©°, ì´ë™Â·ì ì¬ ì‹œ ë³´ì¡°ë¡œí”„ë¡œ ì „ë„ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.");
      }
      if(step==="ë‘ë¶€ì •ë¦¬/Cap"){
        base.push("êµ´ì‚­ê¸° í›„ë©´ í˜‘ì°© ìœ„í—˜ì´ ìˆìœ¼ë‹ˆ ì‹ í˜¸ìˆ˜ ë°°ì¹˜ í›„ ì‹ í˜¸ì— ë”°ë¼ ì‘ì—…í•©ë‹ˆë‹¤.");
        base.push("ìƒë‹¨ ì¶”ë½ë°©ì§€ë¥¼ ìœ„í•´ Cap íƒ€ì„¤ ì „ ì•ˆì „ë‚œê°„ ì§€ì£¼ë¥¼ ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.");
      }

      // ì¥ë¹„ í¬ì¸íŠ¸
      if(equip==="ì²œê³µì¥ë¹„") base.push("ì²œê³µì¥ë¹„ëŠ” ê²½ì‚¬ê³„/íŠ¸ëœì‹¯ ë“±ìœ¼ë¡œ ìˆ˜ì§ë„ë¥¼ ê´€ë¦¬í•˜ê³ , í† ì‚¬ ë¹„ì‚° ë°©ì§€ë¥¼ ì‹œí–‰í•©ë‹ˆë‹¤.");
      if(equip==="í¬ë ˆì¸") base.push("ì™€ì´ì–´Â·ìƒ¤í´Â·ê³ ë¦¬ ì²´ê²°ìƒíƒœë¥¼ ì‘ì—… ì „ ì ê²€í•˜ê³ , ì¸ì–‘ ì¤‘ ì ‘ê·¼ì„ í†µì œí•©ë‹ˆë‹¤.");
      if(equip==="ë ˆë¯¸ì½˜") base.push("ë ˆë¯¸ì½˜ í›„ì§„ì€ ì‹ í˜¸ìˆ˜ ìœ ë„ í•˜ì—ë§Œ ì§„í–‰í•˜ê³  í˜‘ì°© ìœ„í—˜êµ¬ê°„ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤.");
      if(equip==="êµ´ì‚­ê¸°") base.push("êµ´ì‚­ê¸° íšŒì „ ë°˜ê²½ì„ í†µì œí•˜ê³  í›„ë©´ ì ‘ê·¼ì„ ê¸ˆì§€í•©ë‹ˆë‹¤.");
      if(equip==="ì¼€ì´ì‹±") base.push("ì¼€ì´ì‹± ì¸ì–‘/ì¸ë°œ ì‹œ ê²°ì† ìƒíƒœì™€ ì „ë„ ë°©ì§€ ë³´ì¡°ë¡œí”„ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.");
      if(equip==="ê³„ì¸¡") base.push("ì¹¨í•˜Â·ë³€í˜•Â·ì§€í•˜ìˆ˜ ìœ ì¶œ ë“± ì´ìƒì§•í›„ë¥¼ ê³„ì¸¡/ê´€ì°°í•˜ì—¬ ì¦‰ì‹œ ì¡°ì¹˜í•©ë‹ˆë‹¤.");

      return base;
    }

    function tbmCondition(cond){
      if(cond==="ë§¤ì„¤ë¬¼") return [
        "ë§¤ì„¤ë¬¼(ê°€ìŠ¤/ìƒí•˜ìˆ˜/í†µì‹ ) êµ¬ê°„ì€ ì…íšŒ/í†µë³´ ì ˆì°¨ë¥¼ ì¤€ìˆ˜í•˜ê³ , ì´ë™Â·íƒˆë½ ë°©ì§€ ë³´ê°•ëŒ€ì±…ì„ ì‹œí–‰í•©ë‹ˆë‹¤."
      ];
      if(cond==="ì§€í•˜ìˆ˜/ìŠ¬ë¼ì„") return [
        "ì§€í•˜ìˆ˜Â·ìŠ¬ë¼ì„ì´ ë‹¤ëŸ‰ ë°œìƒí•˜ë©´ ì¹¨ì‚¬ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  í•˜ìˆ˜ê´€ ìœ ì…ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤."
      ];
      if(cond==="êµí†µí˜¼ì¬") return [
        "êµí†µí˜¼ì¬ êµ¬ê°„ì€ êµí†µì²˜ë¦¬ê³„íšì— ë”°ë¼ í†µì œêµ¬ê°„ì„ ë¶„ë¦¬í•˜ê³  ì•ˆì „ìš”ì› ì§€ì‹œì— ë”°ë¦…ë‹ˆë‹¤."
      ];
      if(cond==="ì¸ì–‘ê·¼ì ‘") return [
        "ì¸ì–‘ ê·¼ì ‘ì‘ì—…ì€ ì ‘ê·¼ í†µì œ í›„ ì‹¤ì‹œí•˜ê³ , ì‹ í˜¸ì²´ê³„ë¥¼ ë‹¨ì¼í™”í•©ë‹ˆë‹¤(ì‹ í˜¸ìˆ˜ 1ì¸ ì¤‘ì‹¬)."
      ];
      if(cond==="ì•¼ê°„") return [
        "ì•¼ê°„ì€ ì¡°ëª… í™•ë³´ì™€ ì‹œì¸ì„±(ë°˜ì‚¬ì¡°ë¼ ë“±)ì„ ê°•í™”í•˜ê³  ìœ„í—˜êµ¬ê°„ì„ ì¶”ê°€ ì°¨ë‹¨í•©ë‹ˆë‹¤."
      ];
      return [];
    }

    document.getElementById("genTBM").addEventListener("click", ()=>{
      const site = (tbmSite.value || "").trim() || "ë³¸ í˜„ì¥";
      const step = tbmStep.value;
      const equip = tbmEquip.value;
      const cond = tbmCond.value;

      const lines = [];
      lines.push("ì§€ê¸ˆë¶€í„° ì‘ì—… ì „ ì•ˆì „êµìœ¡(TBM)ì„ ì‹¤ì‹œí•˜ê² ìŠµë‹ˆë‹¤.");
      lines.push(`ì—¬ê¸°ëŠ” ${site}ì´ë©°, ì˜¤ëŠ˜ ê³µì •ì€ '${step}', ì£¼ìš” ì¥ë¹„ëŠ” '${equip}'ì…ë‹ˆë‹¤.`);
      lines.push("í•µì‹¬ ìœ„í—˜ì€ ì „ë„Â·ë¶•ê´´, ë‚™í•˜Â·ë¹„ë˜, í˜‘ì°©Â·ë¼ì„ì…ë‹ˆë‹¤.");

      tbmFocus(step, equip).forEach(x=>lines.push(x));
      tbmCondition(cond).forEach(x=>lines.push(x));

      lines.push("ì‹ í˜¸ìˆ˜/ìœ ë„ì ì§€ì‹œì— ë”°ë¥´ê³ , ìœ„í—˜êµ¬ê°„ ì¶œì…ì„ í†µì œí•©ë‹ˆë‹¤.");
      lines.push("ì´ìƒ ì§•í›„ ë°œê²¬ ì‹œ ì¦‰ì‹œ ì‘ì—…ì„ ì¤‘ì§€í•˜ê³  ê´€ë¦¬ê°ë…ìì—ê²Œ ë³´ê³ í•©ë‹ˆë‹¤.");

      tbmOut.value = lines.join("\n");
    });

    document.getElementById("copyTBM").addEventListener("click", async ()=>{
      const text = tbmOut.value.trim();
      if(!text){ alert("ë¨¼ì € TBMì„ ìƒì„±í•˜ì„¸ìš”."); return; }
      try{
        await navigator.clipboard.writeText(text);
        alert("TBM ë¬¸êµ¬ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.");
      }catch(e){
        prompt("ë³µì‚¬ê°€ ì°¨ë‹¨ë˜ì–´ ìˆ˜ë™ ë³µì‚¬í•˜ì„¸ìš”.", text);
      }
    });
  </script>
</body>
</html>
